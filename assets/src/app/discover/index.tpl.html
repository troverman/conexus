<style type="text/css">
	.angular-google-map-container{height:300px;}
</style>
<div style="background:url('https://source.unsplash.com/1600x900/?explore,discover')" class="imageContainerSmall">
    <div style="background:rgba(0,0,0,0.75)" class="imageContainerSmallDiv">  
        <div style="margin-top: auto;margin-bottom: auto;">
        	<div class="container">
            	<h1 style="text-align:left;font-size:50px;color:rgba(255,255,255,0.9);font-weight:400;">Discover</h1>
            	<h5 ng-if="true">
            		<b><a style="color:white" href="/apps" ui-sref="apps">Apps</a></b>
            		<b><a style="color:white" href="/content" ui-sref="contentList">Content</a></b>
					<b><a style="color:white" href="/marketplace" ui-sref="marketPlace">Items</a></b>
					<b><a style="color:white" href="/members" ui-sref="members">Members</a></b>
					<b><a style="color:white" href="/market" ui-sref="market">Orders</a></b>
					<b><a style="color:white" href="/projects" ui-sref="projects">Projects</a></b>
					<!--
					<b><a style="color:white" href="#">Reactions</a></b>
					-->
					<b><a style="color:white" href="/tasks" ui-sref="tasks">Tasks</a></b>
					<!--
					<b><a style="color:white" href="#">Time</a></b>
					<b><a style="color:white" href="#">Transactions</a></b>
					-->
            	</h5>
            </div>
        </div>
    </div>
</div>
<div class="container">
	<div class="row">
		<div class="spacing-10"></div>
	    <ul style="padding:0px;" class="member-tabs">
		    <li style="float:left;font-size:14px"><a href="#" ng-click="filterToggle('DISCOVER', filterSet)"><i class="fa fa-filter"></i> Filter</a></li>
		   	<li ng-if="currentUser" style="float:left;font-size:14px"><a href="#" ng-click="getMyFollowers()"><i class="fa fa-users"></i> Following</a></li>
            <li ng-if="currentUser" style="float:left;font-size:14px"><a href="#" ng-click="getMyProjects()"><i class="fas fa-project-diagram"></i> My Projects</a></li>
		    <li style="float:right;font-size:14px"><a href="#">Sort By Recent <i class="fa fa-angle-down"></i></a></li>
		</ul>
		<div style="clear:both"></div>
		<div class="card">
            <tags-input style="border:0px;flex-grow:2;" placeholder="Search" ng-model="searchQuery"></tags-input>
	    </div>
	</div>
	<div class="row">
    	<div class="col-md-4 mobileHide" style="padding-left:0px;padding-right:0px;">
			<div class="card" ng-click="filterToggle('DISCOVER', filterSet)">
		    	<div style="background:url('https://source.unsplash.com/1600x900/?details,notes,explore,wonder');min-height:50px" class="imageContainerSmall">
				    <div style="background:rgba(0,0,0,0.75);height:50px" class="imageContainerSmallDiv">  
				        <div style="margin-top: auto;margin-bottom: auto;">
                        	<div style="padding:15px">
					            <h1 style="text-align:left;font-size:20px;color:rgba(255,255,255,0.9);font-weight:400;">Tags</h1>
					        </div>
				        </div>
				    </div>
				</div>
		        <div style="padding:16px;">
	                <div ng-click="$event.stopPropagation()">
	                	<tags-input style="border:0px;flex-grow:2;" min-length="1" placeholder="Search | Filter" ng-model="searchQuery.tags"></tags-input>
	                </div>
			        <div style="padding:16px;">
			            <div ng-repeat="tag in sortedTagArray.slice(0,10) track by $index" ng-click="$event.stopPropagation()">
			                <a ng-click="filterContent(tag.element)"><b>{{tag.element}}</b></a>
			            </div>
			        </div>
		        </div>
		    </div>
		    <div class="card" ng-click="filterToggle('DISCOVER', filterSet)">
		    	<div style="background:url('https://source.unsplash.com/1600x900/?details,notes,exolire,wonder');min-height:50px" class="imageContainerSmall">
				    <div style="background:rgba(0,0,0,0.75);height:50px" class="imageContainerSmallDiv">  
				        <div style="margin-top: auto;margin-bottom: auto;">
                        	<div style="padding:15px">
					            <h1 style="text-align:left;font-size:20px;color:rgba(255,255,255,0.9);font-weight:400;">Associations</h1>
					        </div>
				        </div>
				    </div>
				</div>
		        <div style="padding:16px;">
	                <div ng-click="$event.stopPropagation()">
	                	<tags-input style="border:0px;flex-grow:2;" min-length="1" placeholder="Search | Filter" ng-model="searchQuery.associations"></tags-input>
	                </div>
        			<div style="padding:16px;">
			            <div ng-repeat="association in sortedAssociationArray track by $index" ng-click="$event.stopPropagation()">
			                <a ng-click="filterContent(association.element.text)"><b>{{association.element.text}}</b></a>
			            </div>
		            </div>
		        </div>
		    </div>
		    <div class="card" ng-click="filterToggle('DISCOVER', filterSet)">
		    	<div style="background:url('https://source.unsplash.com/1600x900/?city,mountain,forest');min-height:50px" class="imageContainerSmall">
				    <div style="background:rgba(0,0,0,0.75);height:50px" class="imageContainerSmallDiv">  
				        <div style="margin-top: auto;margin-bottom: auto;">
                        	<div style="padding:15px">
					            <h1 style="text-align:left;font-size:20px;color:rgba(255,255,255,0.9);font-weight:400;">Locations</h1>
					        </div>
				        </div>
				    </div>
				</div>
		        <div style="padding:16px;">
	                <div ng-click="$event.stopPropagation()">
		                <tags-input style="border:0px;flex-grow:2;" min-length="1" placeholder="Search | Filter" ng-model="searchQuery.locations"></tags-input>
		                <div layout="">
		                    <div flex="10" layout="" layout-align="center center"><span class="md-body-1">Distance (km)</span></div>
		                    <md-slider step="0.1" flex="" md-discrete="" ng-model="newLocation.distance" step="1" min="-100" max="100" aria-label="general"></md-slider>
		                </div>
		            </div>
        			<div style="padding:16px;">
			            <div ng-repeat="location in sortedLocationArray track by $index" ng-click="$event.stopPropagation()">
			                <a ng-click="filterContent(location.element)"><b>{{location}}</b></a>
			            </div>
	                </div>
		        </div>
		    </div>
		</div>
    	<div class="col-md-8" style="padding-left:0px;padding-right:0px;">


    		<!--FILTER-->

    		<!--
	    	<div class="spacing-10"></div>
		    <ul style="padding:0px;" class="member-tabs">
			    <li style="float:left;font-size:14px"><a href="#" ng-click="filterToggle('DISCOVER', filterSet)"><i class="fa fa-filter"></i> Filter</a></li>
			   	<li ng-if="currentUser" style="float:left;font-size:14px"><a href="#" ng-click="getMyFollowers()"><i class="fa fa-users"></i> Following</a></li>
	            <li ng-if="currentUser" style="float:left;font-size:14px"><a href="#" ng-click="getMyProjects()"><i class="fas fa-project-diagram"></i> My Projects</a></li>
			    <li style="float:right;font-size:14px"><a href="#">Sort By Recent <i class="fa fa-angle-down"></i></a></li>
			</ul>
			<div style="clear:both"></div>
			<div class="card">
	            <tags-input style="border:0px;flex-grow:2;" placeholder="Search" ng-model="searchQuery"></tags-input>
		    </div>
			-->

	    	<div class="card">
				<ui-gmap-google-map center="map.center" zoom="map.zoom" options="options">
				    <ui-gmap-marker ng-repeat="marker in markers" coords="marker.coords" options="marker.options" idkey="marker.id">
				        <ui-gmap-window options="windowOptions" closeClick="closeClick()">
				            <div>
				                <div style="font-size: 15px;"><a href="#">{{marker.content}}</a></div>
				            </div>
				        </ui-gmap-window>
				    </ui-gmap-marker>
				</ui-gmap-google-map>
			</div>

			<div ng-repeat="item in activity">
				<div ng-if="item.model=='CONTENT'" class="card" ng-click="renderToggle(item)">
					<div ng-if="item.title" style="background:url('https://source.unsplash.com/1600x900/?{{item.tags}}');height:100px;min-height:100px" class="imageContainerSmall">
	                    <div style="background:rgba(0,0,0,0.75);height:100px;" class="imageContainerSmallDiv">  
	                        <div style="text-align:right;padding:15px;position:absolute;right:0">
                                <a style="color:white;" ng-click="$event.stopPropagation();cardDetailToggle(item)">
                                    <i class="fas fa-chevron-down"></i>
                                </a>
                                <div style="clear:both"></div>
                            </div> 
	                        <div style="margin-top: auto;margin-bottom: auto;">
	                            <div class="container">
	                                <h1 style="text-align:left;font-size:35px;color:rgba(255,255,255,0.9);font-weight:400;"><a ng-click="$event.stopPropagation();" style="color:white" href="content/{{item.id}}" ui-sref="content({id:item.id})">{{item.title}}</h1>
	                            </div>
	                        </div>
	                    </div>
	                </div>
			        <div style="padding:16px;">
			        	<div ng-if="!item.title" style="text-align:right;float:right">
                            <a style="color:gray;" ng-click="$event.stopPropagation();cardDetailToggle(item)">
                                <i class="fas fa-chevron-down"></i>
                            </a>
                            <div style="clear:both"></div>
                        </div>
			            <div>
			                <a ng-click="$event.stopPropagation();" style="display:inline;font-weight:600;margin-left:5px" href="member/{{item.user.username}}" ui-sref="member.activity({path:item.user.username})">
				                <img class="card-avatar" ng-src="{{item.user.avatarUrl}}" src="{{item.user.avatarUrl}}" err-src="images/avatar.png">
			                	{{item.user.username}}
			                </a>
			                <p style="font-size:10px;color:gray;margin-left:42px" am-time-ago="item.createdAt"></p>
			            </div>
			            <div style="margin-left:42px"><span style="display:inline" ng-bind-html="renderContent(item.content)"></span></div>
			        </div>
			        <div class="card-footer">
			            <a ng-click="$event.stopPropagation();createReaction(item, 'plus')"><i class="fas fa-angle-up"></i> {{item.reactions.plus}} like </a> 
						<a ng-click="$event.stopPropagation();createReaction(item, 'minus')" ><i class="fas fa-angle-down"></i> {{item.reactions.minus}} dislike </a>
			            <a ng-click="$event.stopPropagation();reply(item)"><i class="far fa-comment"></i> comment </a>
			            <a ng-click="$event.stopPropagation();" style="padding:0px" class="pull-right" href="content/{{item.id}}" ui-sref="content({id:item.id})"><i class="fas fa-link grey"></i></a>
			        </div>
		    	</div>
		    	<div ng-if="item.model=='PROJECT'" class="card" ng-click="cardDetailToggle(item)">
                    <div style="padding:16px;">
                        <div class="row">
                            <div class="col-sm-1 col-xs-2">
                                <a ng-click="$event.stopPropagation();" href="project/{{item.urlTitle}}" ui-sref="project.activity({path:item.urlTitle})">
                                	<img style="width:50px;height:50px;max-width:1000%;border-radius:100%" ng-src="{{item.avatarUrl}}" err-src="/images/avatar.png">
                                </a>
                            </div>
                            <div class="col-sm-11 col-xs-10">
                                <p style="float:right;text-align:right">
                                    <a style="color:gray;" ng-click="$event.stopPropagation();cardDetailToggle(item)"><span style="color:gray"></span><i class="fa fa-chevron-down"></i></a>
                                    <span ng-if="item.location" style="color:gray"></span>
                                </p>
                                <h3 style=""><a ng-click="$event.stopPropagation();" href="project/{{item.urlTitle}}" ui-sref="project.activity({path:item.urlTitle})">{{item.title}}</a></h3>
                                <div style="overflow:scroll">
                                    <span style="display:inline" ng-bind-html="renderContent(item.description)"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
				<div ng-if="item.model=='TASK'" class="card" ng-click="cardDetailToggle(item)">
					<div style="background:url('https://source.unsplash.com/1600x900/?{{item.tags}}');height:100px;min-height:100px" class="imageContainerSmall">
	                    <div style="background:rgba(0,0,0,0.75);height:100px;" class="imageContainerSmallDiv">  
	                       	<div style="text-align:right;padding:15px;position:absolute;right:0">
                                <a style="color:white;" ng-click="$event.stopPropagation();cardDetailToggle(item)">
                                    <i class="fas fa-chevron-down"></i>
                                </a>
                                <div style="clear:both"></div>
                            </div>
	                        <div style="margin-top: auto;margin-bottom: auto;">
	                            <div class="container">
	                                <h1 style="text-align:left;font-size:35px;color:rgba(255,255,255,0.9);font-weight:400;"><a style="color:white" href="task/{{item.id}}" ui-sref="task({id:item.id})">{{item.title}}</a></h1>
	                                <h5 ng-if="false" style="font-size:10px;"><a style="color:white" href="task/{{item.id}}" ui-sref="task({id:item.id})">{{item.id}}</a></h5>
	                            </div>
	                        </div>
	                    </div>
	                </div>
					<div style="padding:16px;">
						<p><a ng-click="$event.stopPropagation()" ng-repeat="tag in item.tags track by $index" href="market/{{tag.trim()}}" ui-sref="market({id:tag.trim()})">{{tag.trim()}} </a></p>
		            	<p><span style="display:inline" ng-bind-html="renderContent(item.content)"></span></p>
						<span style="color:gray" am-time-ago="item.createdAt"></span>
					</div>
					<div class="card-footer">
						<a ng-click="$event.stopPropagation();createReaction(item, 'plus')"><i class="fas fa-angle-up"></i> {{item.reactions.plus}} like </a> 
						<a ng-click="$event.stopPropagation();createReaction(item, 'minus')" ><i class="fas fa-angle-down"></i> {{item.reactions.minus}} dislike </a>
						<a ng-click="$event.stopPropagation();reply(item)" href="task/{{item.id}}" ui-sref="task({id:item.id})"><i class="far fa-comment"></i> comment </a>
						<a ng-click="$event.stopPropagation();reply(item)" href="task/{{item.id}}" ui-sref="task({id:item.id})" style="padding:0px" class="pull-right"><i class="fas fa-link grey"></i></a>
					</div>
				</div>
				<div ng-if="item.model=='TRANSACTION'" class="card" ng-click="cardDetailToggle(item)">
	                <div style="padding:16px">
	                    <div style="float:right;text-align:right">
	                        <a style="color:gray;" ng-click="$event.stopPropagation();cardDetailToggle(item)">
	                        	<i class="fa fa-chevron-down"></i>
	                        </a>
	                    </div>
	                    <div style="display:inline">
	                        <span ng-if="item.from.username">
	                            <a ng-click="$event.stopPropagation()"  style="display:inline;font-weight:600;margin-left:5px" href="member/{{item.from.username}}" ui-sref="member.activity({path:item.from.username})">
	                                <img class="card-avatar" ng-src="{{item.from.avatarUrl}}" src="{{item.from.avatarUrl}}" err-src="/images/avatar.png">
	                                {{item.from.username}}
	                            </a>
	                        </span>
	                        <span ng-if="item.from.title">
	                            <a ng-click="$event.stopPropagation()"  style="display:inline;font-weight:600;margin-left:5px" href="project/{{item.from.urlTitle}}" ui-sref="project.activity({path:item.from.username})">
	                                <img class="card-avatar" ng-src="{{item.from.avatarUrl}}" src="{{item.from.avatarUrl}}" err-src="/images/avatar.png">
	                                {{item.from.title}}
	                            </a>
	                        </span>
	                    </div>
	                    <div style="display:inline;padding-left:5px;padding-right:5px;">
	                        <i class="fa fa-arrow-right"></i>
	                    </div>
	                    <div style="display:inline">
	                        <span ng-if="item.to.username">
	                            <a ng-click="$event.stopPropagation()"  style="display:inline;font-weight:600;margin-left:5px" href="member/{{item.to.username}}" ui-sref="member.activity({path:item.to.username})">
	                                <img class="card-avatar" ng-src="{{item.to.avatarUrl}}" src="{{item.to.avatarUrl}}" err-src="/images/avatar.png">
	                                {{item.to.username}}
	                            </a>
	                        </span>
	                        <span ng-if="item.to.title">
	                            <a ng-click="$event.stopPropagation()"  style="display:inline;font-weight:600;margin-left:5px" href="project/{{item.to.urlTitle}}" ui-sref="project.activity({path:item.to.username})">
	                                <img class="card-avatar" ng-src="{{item.to.avatarUrl}}" src="{{item.to.avatarUrl}}" err-src="/images/avatar.png">
	                                {{item.to.title}}
	                            </a>
	                        </span>
	                    </div>
	                    <div class="spacing-5"></div>
	                    <span ng-repeat="(key, value) in item.amountSet"><p style="font-weight:800">{{value}} <a ng-click="$event.stopPropagation();" href="market/{{key}}" ui-sref="market({id:key})">{{key}}</a></p></span>
	                    <p><a ng-click="$event.stopPropagation()" ng-repeat="tag in item.tags" href="market/{{tag.trim()}}" ui-sref="member({id:tag.trim()})">{{tag.trim()}} </a></p>
	                    <p><span style="display:inline" ng-bind-html="renderContent(item.content)"></span></p>
	                    <p style="color:gray;font-size:10px"><span style="color:gray" am-time-ago="item.createdAt"></span> | {{item.createdAt | date :  "y MM-dd hh:mm.ss a"}}</p>
	                </div>
	                <div class="card-footer">
	                    <a ng-click="$event.stopPropagation();createReaction(item, 'plus')"><i class="fas fa-angle-up"></i> {{item.reactions.plus}} like </a> 
	                    <a ng-click="$event.stopPropagation();createReaction(item, 'plus')" ><i class="fas fa-angle-down"></i> {{item.reactions.minus}} dislike </a>
	                    <a ng-click="$event.stopPropagation();reply(item)"><i class="far fa-comment"></i> comment </a>
	                    <a ng-click="$event.stopPropagation();" class="pull-right" style="padding:0px;" href="transaction/{{item.id}}" ui-sref="transaction({id:item.id})"><i class="fas fa-link grey"></i></a>
	                </div>
	            </div>
			</div>

		</div>
	</div>
</div>

<div class="spacing-50"></div>