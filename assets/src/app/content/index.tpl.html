<!--CONTENT TYPE-->
<!--FACTOR-->
<div style="background:black" ng-show="content.type=='video'">
	<div class="spacing-100"></div>
    <div style="text-align:center">
		<span style="display:inline" ng-bind-html="renderContent(content.content)"></span>
	</div>
	<div class="spacing-100"></div>
</div>

<div ng-if="content.title && content.type!='video'" style="background:url('https://source.unsplash.com/1600x900/?{{content.tags}}')" class="imageContainerSmall">
    <div style="background:rgba(0,0,0,0.75)" class="imageContainerSmallDiv">  
        <div style="margin-top: auto;margin-bottom: auto;">
        	<div class="container">
	            <h1 style="text-align:left;font-size:35px;color:rgba(255,255,255,0.9);font-weight:400;">{{content.title}}</h1>
	            <h5 style="color:white" ng-if="selectedTag!=''">{{selectedTag}}</h5>
	            <!--<h5>viewTime: {{tokenFilter}}</h4>-->
				<!--<p>{{viewTime}} View+{{currentUser.id}}, {{viewTime}} View+[Tags]</p>-->
	        </div>
	    </div>
    </div>
</div>

<div class="container">
	<div class="row">
		<div class="card" style="background-color:#f9f9f9">
		    <div style="padding:16px;background-color:white">
				<div style="float:right;text-align:right">
                    <i style="" ng-click="$event.stopPropagation();cardDetailToggle(content);" class="fa fa-ellipsis-v"></i>
				</div>
				<p ng-show="content.tags"><a style="color:gray;" ng-repeat="tag in content.tags.split(',')">{{tag}} </a></p>
				<div>
					<a style="display:inline" href="member/{{content.user.username}}" ui-sref="member.activity({path:content.user.username})">
						<img class="card-avatar" ng-src="{{content.user.avatarUrl}}" src="{{content.user.avatarUrl}}" err-src="/images/avatar.png">
						<span style="font-weight:800">{{content.user.username}}</span>
					</a>
				</div>
				<div class="spacing-5"></div>
				<p style="display:inline;font-size:10px;color:gray;margin-left:5px" am-time-ago="content.createdAt"></p>
				<!--
				<span ng-repeat="association in content.associatedModels">
					<a href="{{association.address}}">{{association.address}}</a>
				</span>
				-->
				<!--
				<span ng-repeat="reaction in reactions"><br><a href="reaction/{{reaction.id}}">{{reaction.user.username}}, {{reaction.type}},{{reaction.amount}} </a>, </span>
				-->
				<div style="clear:both"></div>
				<div class="spacing-10"></div>
				<div style="max-height:5000px;overflow:scroll" ng-show="content.type!='video'">
					<span style="display:inline" ng-bind-html="renderContent(content.content)"></span>
				</div>
		    </div>
		    <div class="card-footer">
		        <a style="padding:5px;color:grey" href="#" ng-click="createReaction(content, 'plus')"><i class="fa fa-angle-up"></i> {{content.reactions.plus}} like </a> 
		        <a style="padding:5px;color:grey" href="#" ng-click="createReaction(content, 'minus')" ><i class="fa fa-angle-down"></i> {{content.reactions.minus}} dislike </a>
		       	<a style="padding:5px;color:grey" href="#" ng-click="reply(content)"><i class="fa fa-comment-o"></i> comment </a>
				<a style="color:grey" class="pull-right" href="content/{{content.id}}" ui-sref="content({id:content.id})"><i class="fas fa-eye"></i> Tokens: {{tokenFilter}}CRE8 | watchTime: {{viewTime*content.reactions.plus+1+33121}} | viewTime: {{viewTime}} | Live: {{content.reactions.plus+1}}</a>
		    </div>
		    <div ng-show="content.showReply" class="card-footer">
				<form role="form" ng-submit="createContent(content)">
					<!--TODO: TAGS-->
					<text-angular ng-model="newContent.content" ta-toolbar="[['p','h1','h2','bold','italics','quote','pre','insertLink', 'html']]"></text-angular>
				    <button type="submit" style="width:100%" class="btn btn-default log-btn" ng-disabled="!newContent.content">create</button>
				</form>
			</div>
			<!--<div ng-include="'content/content.tpl.html'" ng-repeat="content in content.children track by content.id"></div>-->
		</div>
	</div>

	<!--TODO: MOTION VALIDATION-->
	<div class="row" ng-show="content.type == 'MOTION'">
		<div class="card">
		    <div style="padding:16px">
		    	MOTION VALIDATION
		    	<div layout="">
                    <div flex="10" layout="" layout-align="center center"><span class="md-body-1">General</span></div>
                    <md-slider step="0.1" flex="" md-discrete="" ng-model="newValidation.validation.general" step="1" min="-100" max="100" aria-label="general"></md-slider>
                   	<div flex="10" layout="" layout-align="center center"><span class="md-body-1">{{newValidation.validation.general}} | {{member.totalWork || 0}}</span></div>
                </div>
                <text-angular style="height:200px" ng-model="newValidation.content" ta-toolbar="''"></text-angular>
				<button ng-click="createValidation()" type="submit" style="width:100%" class="btn btn-default log-btn">create</button>
		    </div>
		</div>
	</div>

	<!--TRAVERSAL PARAMETERS-->
	<!--COMBINITRONICS-->
	<!--[IDENTITY] == 100% EACH .. OR WEIGHTED.. OR..-->
	<div class="row">
		<ul ng-show="content.children.length > 0" style="padding:0px;" class="member-tabs">
			<li style="float:right;font-size:14px"><a>Sort By Recent <i class="fa fa-angle-down"></i></a></li>
		</ul>
		<div style="clear:both"></div>
		<div ng-include="'content/templates/content.tpl.html'" ng-repeat="content in content.children track by content.id"></div>
	</div>
</div>
<div class="spacing-50"></div>
