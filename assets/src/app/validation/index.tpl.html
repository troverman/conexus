<div class="container">

	<div class="spacing-10"></div>

	<div class="row">
		<div class="card" ng-click="">
			<div style="background:url('https://source.unsplash.com/1600x900/?explore,discover')" class="imageContainerSmall">
			    <div style="background:rgba(0,0,0,0.75)" class="imageContainerSmallDiv">  
			    <div style="text-align:right;padding:15px;position:absolute;right:0">
                    <a style="color:white;" ng-click="$event.stopPropagation();cardDetailToggle(validation)">
                        <i class="fas fa-chevron-down"></i>
                    </a>
                </div>
			        <div style="margin-top: auto;margin-bottom: auto;">
			        	<div class="container">
			            	<h1 style="text-align:left;font-size:50px;color:rgba(255,255,255,0.9);font-weight:400;">
			            		<span ng-repeat="model in validation.associatedModels track by $index">

			            			<!--TODO: ui-sref -->
			            			<span ng-if="model.type == 'TASK'">
										<a style="color:white" href="{{model.type.toLowerCase()}}/{{model.address}}" ui-sref="task({id:model.address})">{{model.info[model.type.toLowerCase()].title}}</a>
									</span>
									<span ng-if="model.type == 'TIME'">
										<a style="color:white" href="{{model.type.toLowerCase()}}/{{model.address}}" ui-sref="time({id:model.address})">{{model.info[model.type.toLowerCase()].amount}}</a>
									</span>
									<span ng-if="model.type == 'PROJECT'">
										<a style="color:white" href="{{model.type.toLowerCase()}}/{{model.info[model.type.toLowerCase()].urlTitle}}" ui-sref="project({path:model.info.project.urlTitle})">{{model.info[model.type.toLowerCase()].title}}</a>
									</span>

									<i ng-show="!$last" class="fa fa-arrows-h"></i> 

			            		</span>
			            	</h1>
			            	<h5 style="color:white">Validation</h5>
			            </div>
			        </div>
			    </div>
			</div>

			<div style="padding:16px">

	            <!--{{validation}}-->

				<a href="member/{{validation.user.username}}" ui-sref="member.activity({path:validation.user.username})">
					<img class="card-avatar" ng-src="{{validation.user.avatarUrl}}"/>
					<b>{{validation.user.username}}</b>
				</a>

				<div class="spacing-5"></div>

				<p style="font-size:10px;color:gray;margin-left:5px" am-time-ago="validation.createdAt"></p>
				
				<div class="spacing-5"></div>

				<div ng-if="validation.content">
					<span ng-bind-html="renderContent(validation.content)"></span>
					<div class="spacing-10"></div>
				</div>

				<!--
				<p>Project Charter | <a ng-click="informationToggle('VOTINGPROTOCOL')">Multipliticative Reputation Weight</a></p>
				<div class="spacing-10"></div>
				-->

				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th>Dimension</th>
							<th>Validation Score</th>
							<th>Reputation</th>
							<th>Project Charter <a ng-click="informationToggle('PROJECTCHARTER')"><i class="fa fa-question-circle"></i></a></th>
							<th>Reputation Weighted Validation Score <a ng-click="informationToggle('REPUTATIONWEIGHTEDVALIDATIONSCORE')"><i class="fa fa-question-circle"></i></a></th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="validation in validationList track by $index">
							<td>{{validation[0]}}</td>
							<td>{{validationList[$index][1]}}</td>
							<td>{{reputationList[$index][1]}}</td>
							<td><a ng-click="informationToggle('VOTINGPROTOCOL - MULTIPLICATIVE')">Multipliticative </a></td>
							<td>{{reputationWeightedList[$index][1]}}</td>
						</tr>
					</tbody>
				</table>

				<div class="spacing-10"></div>

				<highchart config="validationColumn"></highchart>

			</div>
			<div class="card-footer">
				<a ng-click="$event.stopPropagation();" style="color:grey"><i class="fas fa-eye"></i>  {{validation.data.apps.attention.general || 0}}</a>
				<a ng-click="createReaction(validation, 'plus')"><i class="fa fa-angle-up"></i> {{validation.data.apps.reactions.plus}} like </a> 
                <a ng-click="createReaction(validation, 'minus')" ><i class="fa fa-angle-down"></i> {{validation.data.apps.reactions.minus}} dislike </a>
		       	<a style="padding:5px;color:grey" ng-click="reply(validation)"><i class="fa fa-comment-o"></i> comment </a>
		       	<a style="padding:5px;color:grey" ng-click="validationToggle(validation)"><i class="fa fa-check"></i> validate </a>
		    </div>
		</div>

	</div>
		
	<div class="spacing-50"></div>

</div>