
<div class="container">

	<div class="spacing-10"></div>

	<div class="row">
		<div class="card" ng-click="">

			<div style="background:url('https://source.unsplash.com/1600x900/?explore,discover')" class="imageContainerSmall">
			    <div style="background:rgba(0,0,0,0.75)" class="imageContainerSmallDiv">  
			        <div style="margin-top: auto;margin-bottom: auto;">
			        	<div class="container">
			            	<h1 style="text-align:left;font-size:50px;color:rgba(255,255,255,0.9);font-weight:400;">
			            		<span ng-repeat="model in validation.associatedModels track by $index">

			            			<span ng-if="model.type == 'TASK'">
										<a style="color:white" href="{{model.type.toLowerCase()}}/{{model.address}}">{{model.info[model.type.toLowerCase()].title}}</a>
									</span>
									<span ng-if="model.type == 'TIME'">
										<a style="color:white" href="{{model.type.toLowerCase()}}/{{model.address}}">{{model.info[model.type.toLowerCase()].amount}}</a>
									</span>
									<span ng-if="model.type == 'PROJECT'">
										<a style="color:white" href="{{model.type.toLowerCase()}}/{{model.info[model.type.toLowerCase()].urlTitle}}">{{model.info[model.type.toLowerCase()].title}}</a>
									</span>

									<i ng-show="!$last" class="fa fa-arrows-h"></i> 

			            		</span>
			            	</h1>
			            </div>
			        </div>
			    </div>
			</div>

			<div style="padding:16px">

				<div style="float:right;text-align:right">
	                <a style="color:gray;" ng-click="$event.stopPropagation();cardDetailToggle(validation)"><span style="color:gray"></span><i class="fa fa-ellipsis-v"></i></a>
	            </div>

				<!--TODO-->
				<!--
				<h3> 
					<span><a href="{{validation.associatedModels[0].type.toLowerCase()}}/{{validation.associatedModels[0].address}}">{{validation.associatedModels[0].info.task.title}}</a></span> 
					<i class="fa fa-arrows-h"></i> 
					<span><a href="{{validation.associatedModels[1].type.toLowerCase()}}/{{validation.associatedModels[1].info.project.urlTitle}}">{{validation.associatedModels[1].info.project.title}}</a></span>
				</h3>
				-->

				<a href="member/{{validation.user.username}}">
					<img class="card-avatar" ng-src="{{validation.user.avatarUrl}}"/>
					<b>{{validation.user.username}}</b>
				</a>

				<p style="display:inline;font-size:10px;color:gray;margin-left:5px" am-time-ago="validation.createdAt"></p>

				<!--TODO: ABSTRACT MODEL | POPULATE VALIDATIONS-->
				<!--ERR-->
				<!--
				<p ng-repeat="model in validation.associatedModels">
					<a href="{{model.type.toLowerCase()}}/{{model.address}}">
						{{model.type}} | {{model.address}}
					</a>
				</p>
				-->
				<!--TAGS ARE ASSOCIATIONS. . -->
				<!--
				<p>time | <a href="time/{{validation.time}}">{{validation.time}}</a></p>
				<p>task | <a href="time/{{validation.task}}">{{validation.task}}</a></p>
				<p>project |</p>
				<p>member | </p>
				<p>item | </p>
				<p>order | </p>
				<p>transaction | </p>
				<p>content | </p>
				<p>validation | </p>
				<p>validation (recursion) </p>
				-->
				<!--ASSOCIATION.. -->
				<!--TODO: MANIFOLD-->
				<!--MANIFOLD-->
				<!--<p>Manifold | Project+</p>-->

				<span ng-bind-html="renderContent(validation.content)"></span>

				<div class="spacing-10"></div>
				<p>Project Charter | <a ng-click="informationToggle()">Multipliticative Reputation Weight</a></p>
				<div class="spacing-10"></div>

				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th>Dimension</th>
							<th>Validation Score</th>
							<th>Reputation</th>
							<th>Project Charter <a ng-click="informationToggle()"><i class="fa fa-question-circle"></i></a></th>
							<th>Reputation Weighted Validation Score <a ng-click="informationToggle()"><i class="fa fa-question-circle"></i></a></th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="validation in validationList track by $index">
							<td>{{validation[0]}}</td>
							<td>{{validationList[$index][1]}}</td>
							<td>{{reputationList[$index][1]}}</td>
							<td><a ng-click="informationToggle()">Multipliticative </a></td>
							<td>{{reputationWeightedList[$index][1]}}</td>
						</tr>
					</tbody>
				</table>
				<div class="spacing-10"></div>

				<highchart config="validationColumn"></highchart>

			</div>
			<div class="card-footer">
				<a ng-click="createReaction(validation, 'plus')"><i class="fa fa-angle-up"></i> {{validation.reactions.plus}} like </a> 
                <a ng-click="createReaction(validation, 'minus')" ><i class="fa fa-angle-down"></i> {{validation.reactions.minus}} dislike </a>
		       	<a style="padding:5px;color:grey" ng-click="reply(validation)"><i class="fa fa-comment-o"></i> comment </a>
		       	<a style="padding:5px;color:grey" ng-click="validationToggle(validation)"><i class="fa fa-check"></i> validate </a>
		    </div>
		    <div ng-show="validation.showReply" class="card-footer">
				<form role="form" ng-submit="createContent(validation)">
					<text-angular ng-model="newContent.content" ta-toolbar="[['p','h1','h2','bold','italics','quote','pre','insertLink', 'html']]"></text-angular>
				    <button type="submit" style="width:100%" class="btn btn-default log-btn" ng-disabled="!newContent.content">create</button>
				</form>
			</div>
		</div>

	</div>
		
	<div class="spacing-50"></div>

</div>
