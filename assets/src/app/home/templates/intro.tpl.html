<div ng-include="'intro/index.tpl.html'"></div>

<div style="background-color:white">
    <div class="spacing-50"></div>
    <div class="container">

        <!--INTO-->
        <div class="row">
            <div class="col-md-6">
                <h3>CRE8 MULTIDIMENSIONAL VALUE</h3>
                <div class="spacing-5"></div>
                <p style="font-style:italic;margin:0px;color:gray">Create and participate in transparent, crowdsourced, organizations.</p>
                <p style="font-style:italic;margin:0px;color:gray">Create value through tokenized actions.</p>
                <div class="spacing-15"></div>
                <a style="width:100%" class="btn btn-default log-btn" href="/about">learn more</a>
                <div class="spacing-50"></div>
                <div class="spacing-50"></div>
            </div>
            <div class="col-md-6 mobileHide" style="text-align:center">
                <img style="max-height:200px" src="/images/loading.gif">
                <div class="spacing-50"></div>
            </div>
        </div>

        <div class="spacing-50 mobileHide"></div>

        <!--MULTI MARKET-->
        <div class="row">
            <div class="col-md-6">
                <div class="block">
                    <div class="shape">
                        <div class="cube outer">
                            <div class="side left"></div>
                            <div class="side right"></div>
                            <div class="side top"></div>
                            <div class="side bottom"></div>
                            <div class="side front"></div>
                            <div class="side back"></div>
                            <div class="cube">
                                <div class="side left"></div>
                                <div class="side right"></div>
                                <div class="side top"></div>
                                <div class="side bottom"></div>
                                <div class="side front"></div>
                                <div class="side back"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="spacing-50"></div>
                <div class="spacing-50"></div>
            </div>
            <div class="col-md-6">
                <h3>BUILD THE VALUE MATRIX</h3>
                <div class="spacing-5"></div>
                <p style="font-style:italic;margin:0px;color:gray">Manifest pluralism.</p>
                <p style="font-style:italic;margin:0px;color:gray">Create Liquidity in the Market and Create your Dimensional Vote.</p>
                <p style="font-style:italic;margin:0px;color:gray">Relationally map your value to a set of tokenized potiental.</p>
                <div class="spacing-15"></div>
                <a style="width:100%" class="btn btn-default log-btn" href="/market">explore the market</a>
                <div class="spacing-50"></div>
                <div class="spacing-50"></div>
            </div>
        </div>

        <!--TASKS-->
        <!--COOORDINATE INTENTIONALLY-->
        <!--
        <div class="row">
            <div class="col-md-6">
                <h3>TASKS</h3>
            </div>
            <div class="col-md-6">
            </div>
        </div>
        -->

        <!--PROJECTS-->
        <!--
        <div class="row">
            <div class="col-md-6">
            </div>
            <div class="col-md-6">
                <h3>PROJECTS</h3>
            </div>
        </div>
        -->

        <!--TRANSPARENCY ETHOS-->
        <!--
        <div class="row">
            <div class="col-md-6">
                <h3>TRANSPARENCY ETHOS</h3>
            </div>
            <div class="col-md-6">
            </div>
        </div>
        -->

        <!--AI | API | DATA INTELOCK-->
        <!--<div class="row">
            <div class="col-md-6">
            </div>
            <div class="col-md-6">
                <h3>AI</h3>
            </div>
        </div>
        -->

    </div>

    
    <div class="container">
        <div class="row">
            <div class="col-lg-12 col-md-12">
                <h3><b>Join Our Community</b></h3><hr>
                <div class="login-form">
                    <form role="form" method="post" action="/auth/local/register">
                        <div class="form-group">
                            <input class="form-control" name="email" placeholder="Email" title="email" type="email"> 
                            <i class="fa fa-user"></i>
                        </div>
                        <div class="form-group">
                            <input class="form-control" name="username" placeholder="Username" title="username" type="text"> 
                            <i class="fa fa-user"></i>
                        </div>
                        <div class="form-group log-status">
                            <input class="form-control" name="password" placeholder="Password" title="password" type="password"> 
                            <i class="fa fa-lock"></i>
                        </div>
                        <div class="align-right">
                            <button class="btn btn-default log-btn" type="submit" value="submit">Sign up</button>
                        </div>
                        <br><br>
                        <div style="text-align:center">
                            <a href="/login"><h4>Already Have an Account?</h4></a>
                        </div>
                    </form>
                </div>
                <div class="selfClear"></div>
            </div>   
        </div>
    </div>
    
    <div class="spacing-50"></div>
    
</div>

<!--<div ng-include="'register/index.tpl.html'"></div>-->

<div class="container">
    
    <div class="spacing-50"></div>

    <div class="row">

        <div ng-show="false" class="col-sm-2 mobileFix" style="padding-left:0px;padding-right:0px;">
            <div class="card">
                <div style="padding:16px;">
                    <span><b>Tags</b></span>
                    <div ng-repeat="tag in sortedTagArray">
                        <a href="#" ng-click="filterContent(tag.element)">{{tag.element}}</a>
                    </div>
                </div>
            </div>
            <div class="card">
                <div style="padding:16px;">
                    <span><b>Associations</b></span>
                    <div ng-repeat="association in sortedAssociationArray">
                        <a href="#" ng-click="filterContent(tag.element)">{{association.element}}</a>
                    </div>
                </div>
            </div>
            <div class="card">
                <div style="padding:16px;">
                    <span><b>Locations</b></span>
                    <div ng-repeat="location in locations">
                        <a href="#" ng-click="filterContent(tag.element)">{{location}}</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-sm-12" style="padding-left:0px;padding-right:0px;">

            <div class="">
                <div style="">
                    <ul style="padding:0px;margin-top:0px;margin-bottom:0px;" class="member-tabs">
                        <li class="active"><a href="/">Activity</a></li>
                        <li><a href="/content">Content</a></li>
                        <li><a href="/marketplace">Items</a></li>
                        <li><a href="/market">Orders</a></li>
                        <li><a href="/projects">Projects</a></li>
                        <li><a href="/tasks">Tasks</a></li>

                        <li ng-click="expandSort()" style="float:right;font-size:14px"><a href="#">Sort By Recent <i class="fa fa-angle-down"></i></a></li>
                        <!--<li style="float:right">
                            <div class="dropdown sort-dropdown noselect">
                                <a href="#" class="dropdown-toggle noselect" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                    <h4 style="" class="noselect">Sort By Recent <i class="fa fa-angle-down"></i></h4>
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a href="#" class="sort-a" ng-click="selectSort('trendingScore DESC')"><h5>Trending</h5></a></li>
                                    <hr class="sort-hr">
                                    <li><a href="#" class="sort-a" ng-click="selectSort('memberCount DESC')"><h5>Member Count</h5></a></li>
                                    <hr class="sort-hr">
                                    <li><a href="#" class="sort-a" ng-click="selectSort('createdAt DESC')"><h5>Date Created</h5></a></li>
                                </ul>
                            </div>
                        </li>-->
                    </ul>
                </div>
            </div>

            <div class="card">
                <form ng-submit="search()" style="display:flex;flex-direction:row;">
                    <input style="border:0px;flex-grow:2;" class="form-control" type="text" placeholder= "Seach | Filter" ng-model="searchQuery">
                    <div ng-click="search()" style="border:0px;float:right" class="btn btn-default">
                        <h5 style="color:black;text-align:right" class="noselect">Search <i class="fa fa-search"></i></h5>
                    </div>
                </form>
            </div>

            <!--<div class="card">
                <style type="text/css">.angular-google-map-container{height: 200px;}</style>
                <ui-gmap-google-map center="map.center" zoom="map.zoom" options="options"></ui-gmap-google-map>
            </div>-->

            <div ng-repeat="item in activity">

                <div class="card" ng-if="item.model=='CONTENT'" ng-click="renderToggle(item)">
                    <div style="padding:16px;overflow:scroll;max-height:500px">
                        <div>
                            <img class="card-avatar" ng-src="{{item.user.avatarUrl}}" src="{{item.user.avatarUrl}}" err-src="/images/avatar.png">
                            <a ng-click="$event.stopPropagation()" style="display:inline;font-weight:600;margin-left:5px" href="/member/{{item.user.username}}">{{item.user.username}}</a>
                            <p style="display:inline"><i class="fa fa-angle-right"></i></p>

                            <!--TODO: POST PARENT TYPES-->
                            <a ng-click="$event.stopPropagation()" ng-show="item.market" style="display:inline;font-weight:600" href="market/{{item.market}}">market {{item.market}}</a>
                            <a ng-click="$event.stopPropagation()" ng-show="item.order" style="display:inline;font-weight:600" href="order/{{item.order}}">order {{item.order}}</a>
                            <a ng-click="$event.stopPropagation()" ng-show="item.contentModel" style="display:inline;font-weight:600" href="content/{{item.contentModel}}">content {{item.contentModel}}</a>
                            <a ng-click="$event.stopPropagation()" ng-show="item.profile" style="display:inline;font-weight:600" href="member/{{item.profile}}">profile {{item.profile}}</a>
                            <a ng-click="$event.stopPropagation()" ng-show="item.project" style="display:inline;font-weight:600" href="project/{{item.project.urlTitle}}">{{item.project.title}}</a>
                            <a ng-click="$event.stopPropagation()" ng-show="item.time" style="display:inline;font-weight:600" href="time/{{item.time}}">time {{item.time}}</a>
                            <a ng-click="$event.stopPropagation()" ng-show="item.task" style="display:inline;font-weight:600" href="task/{{item.task}}">task {{item.task}}</a>
                            <a ng-click="$event.stopPropagation()" ng-show="item.transaction" style="display:inline;font-weight:600" href="transaction/{{item.transaction}}">transaction {{item.transaction}}</a>
                            <p style="display:inline;font-size:10px;color:gray;margin-left:5px" am-time-ago="item.createdAt"></p>
                            
                            <p ng-click="tokensToggle(item);$event.stopPropagation()" style="display:inline;float:right"><a>Tokens <i class="fa fa-question-circle"></i></a></p>
                            <div style="clear:both"></div>
                        </div>
                        <div style="margin-left:42px"><span style="display:inline" ng-bind-html="renderContent(item.content)"></span></div>
                    </div>
                    <div class="card-footer">
                        <a ng-click="$event.stopPropagation();createReaction(item, 'plus')"><i class="fa fa-angle-up"></i> {{item.reactions.plus}} like </a> 
                        <a ng-click="$event.stopPropagation();createReaction(item, 'minus')" ><i class="fa fa-angle-down"></i> {{item.reactions.minus}} dislike </a>
                        <a ng-click="$event.stopPropagation();reply(item)"><i class="fa fa-comment-o"></i> comment </a>
                        <a ng-click="$event.stopPropagation()" style="padding:0px" class="pull-right" href="content/{{item.id}}"><i class="fa fa-link grey"></i></a>
                    </div>
                    <!--TODO: NESTED -->
                    <div ng-show="item.showReply" class="card-footer" ng-click="$event.stopPropagation()">
                        <form role="form" ng-submit="createContent(item)">
                            <text-angular ng-model="newContent.content" ta-toolbar="[['p','h1','h2','bold','italics','quote','pre','insertLink', 'html']]"></text-angular>
                            <button type="submit" style="width:100%" class="btn btn-default log-btn" ng-disabled="!newContent.content">create</button>
                        </form>
                    </div>
                </div>

                <div class="card" ng-if="item.model=='PROJECT'" ng-click="">
                    <div style="padding:16px;">
                        <div class="row">
                            <div class="col-sm-1 col-xs-2">
                                <a href="project/{{item.urlTitle}}"><img style="width:50px;height:50px;max-width:1000%" src="{{item.avatarUrl}}" err-src="/images/avatar.png"></a>
                            </div>
                            <div class="col-sm-11 col-xs-10">
                                <h3 style="margin-top:0px">
                                    <a href="project/{{item.urlTitle}}">
                                        {{item.title}}
                                    </a>
                                </h3>
                                <div style="max-height:500px;overflow:scroll">
                                    <span style="display:inline" ng-bind-html="renderContent(item.description)"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card" ng-if="item.model=='TASK'" ng-click="renderToggle(item)">
                    <div style="padding:16px;">                            
                        <div style="float:right;text-align:right">
                            <h5 ng-click="$event.stopPropagation();tokensToggle(item);"><a>Tokens <i class="fa fa-question-circle"></i></a></h5>
                            <h5 ng-click="$event.stopPropagation();renderValidationToggle(item);"><a>Associations <i class="fa fa-question-circle"></i></a></h5>
                        </div>
                        <h4 ng-click="$event.stopPropagation()"><a href="task/{{item.id}}">{{item.title}}</a></h4>
                        <!--<p><a ng-click="$event.stopPropagation()" href="project/{{item.project.urlTitle}}">{{item.project.title}}</a></p>-->
                        <p ng-click="$event.stopPropagation()"><a ng-repeat="tag in item.tags track by $index" href="market/{{tag.trim()}}">{{tag.trim()}} </a></p>
                        <p ng-click="$event.stopPropagation()"><span style="display:inline" ng-bind-html="renderContent(item.content)"></span></p>
                        <span style="color:gray" am-time-ago="item.createdAt"></span>
                    </div>
                    <div class="card-footer">
                        <a ng-click="$event.stopPropagation();createReaction(item, 'plus')"><i class="fa fa-angle-up"></i> {{item.reactions.plus}} like </a> 
                        <a ng-click="$event.stopPropagation();createReaction(item, 'minus')" ><i class="fa fa-angle-down"></i> {{item.reactions.minus}} dislike </a>
                        <a ng-click="$event.stopPropagation();reply(item)"><i class="fa fa-comment-o"></i> comment </a>
                        <a style="padding:0px" class="pull-right" href="task/{{item.id}}"><i class="fa fa-link grey"></i></a>
                    </div>
                </div>

                <div class="card" ng-if="item.model=='TIME'" ng-click="renderToggle(item)">
                    <div style="padding:16px;">

                        <div>

                            <img class="card-avatar" ng-src="{{item.user.avatarUrl}}" src="{{item.user.avatarUrl}}" err-src="/images/avatar.png">
                            <a ng-click="$event.stopPropagation()" style="display:inline;font-weight:600;margin-left:5px" href="/member/{{item.user.username}}">{{item.user.username}}</a>
                            <p style="display:inline"><i class="fa fa-angle-right"></i></p>
                            <a ng-click="$event.stopPropagation()" style="display:inline;font-weight:600" href="task/{{item.task.id}}">{{item.task.title}}</a>
                            <p style="display:inline"><i class="fa fa-angle-right"></i></p>
                            <a ng-click="$event.stopPropagation()" style="display:inline;font-weight:600" href="time/{{item.id}}">{{item.amount}}</a>
                            <p style="display:inline;color:gray;font-size:10px;margin-left:5px" am-time-ago="item.createdAt"></p>

                            <p style="display:inline;float:right;text-align:right">
                                <a ng-click="$event.stopPropagation();tokensToggle(item)">Tokens <i class="fa fa-question-circle"></i></a>
                                <!--<br>
                                <a ng-click="$event.stopPropagation();renderValidationToggle(item)">Associations <i class="fa fa-question-circle"></i></a>-->
                            </p>

                            <div style="clear:both"></div>

                        </div>

                        <p ng-click="$event.stopPropagation()" ng-show="item.task.tags > 0" style="margin-left:42px"><a ng-repeat="tag in item.task.tags" href="market/{{tag.trim()}}+{{task.id}}">{{tag.trim()}} </a></p>
                        <div style="margin-left:42px"><span style="display:inline" ng-bind-html="renderContent(item.content)"></span></div>

                    </div>
                    <div class="card-footer">
                        <a ng-click="$event.stopPropagation();createReaction(item, 'plus')"><i class="fa fa-angle-up"></i> {{item.reactions.plus}} like </a> 
                        <a ng-click="$event.stopPropagation();createReaction(item, 'minus')" ><i class="fa fa-angle-down"></i> {{item.reactions.minus}} dislike </a>
                        <a ng-click="$event.stopPropagation();reply(item)"><i class="fa fa-comment-o"></i> comment </a>
                        <a ng-click="$event.stopPropagation()" style="padding:0px" class="pull-right" href="time/{{item.id}}"><i class="fa fa-link grey"></i></a>
                    </div>
                </div>
                
            </div>

            <div ng-show="true" class="card" style="text-align:center" ng-click="loadMore()">
                <button style="width:100%" class="btn btn-default log-btn">MORE <i class="fa fa-angle-down"></i></button>
            </div>

        </div>

    </div>
</div>



<div class="spacing-50"></div>