<style>.ngCytoscape{height: 400px;width:100%;}</style>
<div style="background:url('https://source.unsplash.com/1600x900/?,geometry')" class="imageContainerSmall">
    <div style="background:rgba(0,0,0,0.75)" class="imageContainerSmallDiv">  
        <div style="margin-top: auto;margin-bottom: auto;">
        	<div class="container">
	            <h1 style="text-align:left;font-size:35px;color:rgba(255,255,255,0.9);font-weight:400;"><img style="height:64px;padding:15px;" ng-src="http://identicon-1132.appspot.com/{{token.string.split('+').join('') || stateParams.id.split('+').join('')}}?s=8&p=8&f=png"> {{token.string ||  stateParams.id}}</h1>
	        </div>
        </div>
    </div>
</div>

<div class="container">

	<div class="spacing-10"></div>

	<div class="row">
		 <ul style="padding:0px;margin-top:0px;margin-bottom:0px;" class="member-tabs">
			<li><a href="#" ng-click="selectTab('INFORMATION')"><i class="fa fa-info"></i> Information</a></li>
            <li><a href="#" ng-click="selectTab('MARKETS')"><i class="fa fa-exchange"></i> Markets</a></li>
            <li><a href="#" ng-click="selectTab('ANALYSIS')"><i class="fas fa-chart-bar"></i> Analysis</a></li>
        </ul>
    </div>

    <!--INFORMATION-->
    <div class="row" ng-show="selectedTab=='INFORMATION'">
        <div class="card">
	    	<!--
	    	<div style="background:url('https://source.unsplash.com/1600x900/?lattice,geometry,crystal,code');height:100px;min-height:100px" class="imageContainerSmall">
			    <div style="background:rgba(0,0,0,0.75);height:100px" class="imageContainerSmallDiv">  
			        <div style="margin-top: auto;margin-bottom: auto;">
			        	<div class="container">
				            <h1 style="text-align:left;font-size:35px;color:rgba(255,255,255,0.9);font-weight:400;">Market</h1>
				        </div>
			        </div>
			    </div>
			</div>
			-->
			<div style="padding:16px">
				<div class="row">
					<div class="col-md-12">

						<div>
							<h4>Tokens</h4>
				    		<p><b><a href="token/{{token.string}}">{{token.string}}</a></b></p>	
							<p style="font-style:italic;color:gray">In Circulation: {{token.information.inCirculation}}</p>
							<p style="font-style:italic;color:gray">Markets: {{markets.length}}</p>
						</div>

						<div class="spacing-5"></div>

						<div>
				    		<h4>Logic & Protocols</h4>
				    		<p style="font-style:italic;color:gray">{{markets.protocols}}</p>
				    		<p style="font-style:italic;color:gray">Transferrable: {{token.logic.transferrable}}</p>
				    		<p style="font-style:italic;color:gray">Mint: {{token.logic.mint}}</p>
				    		<div ng-if="modelToken.model">
					    		<p><b>Action</b></p>
								<p style="font-style:italic;color:gray"><a href="{{modelToken.model.toLowerCase()}}/{{modelToken.id}}">{{modelToken.model.toUpperCase()}}</a></p>
							</div>
				    		<!--<p><b>Manifolds Actions</b></p>-->
						</div>

						<div class="spacing-5"></div>

						<!--TOP OWNERS??? WOULD BE COOL:)-->
						<!--GRAPH OF ...-->

						<!--NEED (parallel || APROPO) of GRAPH-->

						<!--CONJECTURE; ALL OR PATHS REDUCE TO POWERSET CONTAINED COMBINAORIAL-->
						<!--DO THE TRAVERSALS NEXT.. uhm..-->
						<!--BRAID..-->
						<!--remember eight d depth.. basal tensor to reduce computationals complexity - reflections contain . .
							a-b-c-d-d-f-g
								- power set in powerset 
									-eight powers of braids etc
							alg removes loops first then. .
						-->


						<div style="max-height:50vh;overflow:auto">

				    		<h4>Market Immutable Strucutre</h4>
		                	<div hljs hljs-language="javascript"  hljs-source="renderImmutableMarket"></div>
							<div class="spacing-5"></div>

				    		<h5>Power Potientality</h5>
				    		<p>Potiental of possible connection</p>
		                	<div hljs hljs-language="javascript"  hljs-source="renderImmutableMarketPower"></div>

		                </div>

						<div class="spacing-5"></div>

		                <div>

		                	<!--TEMP?-->
							<!--TABLE OF ORDERS-->
							<!--WERE DOING IMMUTALBE STRUCURE-->
				    		<h4>Orders</h4>
							<table class="table table-striped table-hover">
			                    <thead>
			                        <tr>
			                            <th>setAlpha</th>
			                            <th>setBeta</th>
			                            <th>Id</th>
			                        </tr>
			                    <thead>
			                    <tbody>
			                        <tr ng-repeat="order in orders">
			                            <td>{{order.setAlpha}}</td>
			                            <td>{{order.setBeta}}</td>
			                            <td>{{order.id}}</td>
			                        </tr>
			                    </tbody>
			                </table>
			    		</div>

			    	</div>
					<div class="col-md-12">
        				<cytoscape graph-options="options" graph-elements="elementsObj" graph-layout="layout" graph-style="style"></cytoscape>
			    	</div>
		    	</div>
    		</div>
    	</div>	
    </div>

    <!--MARKETS-->
	<div class="row" ng-show="selectedTab=='MARKETS'">

		<div class="spacing-5"></div>

		<!--FILTERS-->
    	<div class="col-sm-3 mobileFix" style="padding-left:0px;padding-right:0px;">
	    	<div class="card">
		    	<div style="background:url('https://source.unsplash.com/1600x900/?lattice,geometry,crystal,code');min-height:50px" class="imageContainerSmall">
				    <div style="background:rgba(0,0,0,0.75);height:50px" class="imageContainerSmallDiv">  
				        <div style="margin-top: auto;margin-bottom: auto;">
				        	<div class="container">
					            <h1 style="text-align:left;font-size:20px;color:rgba(255,255,255,0.9);font-weight:400;">Manifolds</h1>
					        </div>
				        </div>
				    </div>
				</div>
				<div style="padding:16px">
					<div ng-repeat="item in manifolds">
					    <p><a href="market/{{token.string}}{{item.title}}{{item.manifolds}}" ui-sref="market({ id: token.string+item.title+item.manifolds})"><b>{{item.title}}</b></a></p>
					</div>
				</div>
			</div>
			<div class="card">
		    	<div style="background:url('https://source.unsplash.com/1600x900/?lattice,geometry,crystal,code');min-height:50px" class="imageContainerSmall">
				    <div style="background:rgba(0,0,0,0.75);height:50px" class="imageContainerSmallDiv">  
				        <div style="margin-top: auto;margin-bottom: auto;">
				        	<div class="container">
					            <h1 style="text-align:left;font-size:20px;color:rgba(255,255,255,0.9);font-weight:400;">Type</h1>
					        </div>
				        </div>
				    </div>
				</div>
				<div style="padding:16px">
					<div ng-repeat="item in types">
					    <p><a><b>{{item.title}}</b></a></p>
					</div>
				</div>
			</div>
			<!--
			<div class="card">
		    	<div style="background:url('https://source.unsplash.com/1600x900/?lattice,geometry,crystal,code');min-height:50px" class="imageContainerSmall">
				    <div style="background:rgba(0,0,0,0.75);height:50px" class="imageContainerSmallDiv">  
				        <div style="margin-top: auto;margin-bottom: auto;">
				        	<div class="container">
					            <h1 style="text-align:left;font-size:20px;color:rgba(255,255,255,0.9);font-weight:400;">Tags</h1>
					        </div>
				        </div>
				    </div>
				</div>
				<div style="padding:16px">
				</div>
			</div>
			-->
		</div>

		<div class="col-md-9" style="padding-left:0px;padding-right:0px;">

			<div class="spacing-5"></div>

			<ul style="padding:0px;margin-top:0px;margin-bottom:0px;" class="member-tabs">
	            <li style="float:left;font-size:14px"><a href="#" ng-click="filterToggle('MARKET', filterSet)"><i class="fa fa-filter"></i> Filter</a></li>
	            <li><a href="#" ng-click="showManifold = !showManifold"><i class="fas fa-infinity"></i> Manifold Actions</a></li>
    			<li ng-click="expandSort()" style="float:right;font-size:14px"><a href="#">Sort By Base Volume <i class="fa fa-angle-down"></i></a></li>
	        </ul>

		   	<div class="card">
		        <form ng-submit="search()" style="display:flex;flex-direction:row;">
		            <tags-input class="" style="border:0px;flex-grow:2;" min-length="1" placeholder="Search" ng-model="searchQuery"></tags-input>
		            <div ng-click="search()" style="border:0px" class="btn btn-default" style="float:right">
		                <a href="#" role="button"><h5 style="color:black;text-align:right" class="noselect">Search <i class="fa fa-search"></i></h5></a>
		            </div>
		        </form>
		    </div>

	        <div class="card"><button class="btn btn-default log-btn" ng-click="orderToggle()">+ Market Order</button></div>

		    <div ng-show="!showManifold" class="card" ng-repeat="market in markets" ng-click="cardDetailToggle(market)">
			    <div style="background:url('https://source.unsplash.com/1600x900/?{{market.string}}');height:100px;min-height:100px" class="imageContainerSmall">
			    	<div style="background:rgba(0,0,0,0.75);height:100px" class="imageContainerSmallDiv">  
				        <div style="margin-top: auto;margin-bottom: auto;">
				        	<div style="padding:15px">

					            <h1 style="text-align:left;font-size:20px;color:rgba(255,255,255,0.9);font-weight:400;">
					            	<a style="color:white;word-break:break-word" ng-click="$event.stopPropagation();" href="market/{{stateParams.id}}/{{market.string}}" ui-sref="marketPair({ setAlpha: stateParams.id, setBeta:market.string })">


					            		<!--<span ng-repeat="item in market.string.split(',')">
					            			{{item}}<br>
					            		</span>-->
					            		{{market.string}}


					            	</a>
					            </h1>
					            <h5><a style="color:white" ng-click="$event.stopPropagation();" href="market/{{stateParams.id}}" ui-sref="market({ id: market.string})">Market</a></h5>

					        </div>
				        </div>
				    </div>
				</div>
		    	<div style="padding:16px;">
					<div class="row">
			    		<div class="col-sm-12">
			    			<a ng-click="$event.stopPropagation();" href="market/{{stateParams.id}}/{{market.string}}" ui-sref="marketPair({ setAlpha: stateParams.id, setBeta:market.string })">Connection</a>
							<p style="color:gray;font-size:10px">{{market.info.rate}}</p>
			    			<p style="color:gray;font-size:10px">{{market.info.dailyChange}} 24/hr Change</p>
							<p style="color:gray;font-size:10px">{{market.info.marketDepth}} {{stateParams.id}} Depth</p>
							<p style="color:gray;font-size:10px">{{token.string.split(',').length || stateParams.id.split(',').length}} - {{market.string.split(',').length}}</p>
							<!--<cytoscape graph-options="options" graph-elements="elementsObj" graph-layout="layout" graph-style="style"></cytoscape>-->
						</div>
			    	</div>
				</div>
		    </div>

		    <!--MANIFOLD-->
			<div ng-show="showManifold">
				<div class="card" ng-repeat="item in manifolds">
					<div style="background:url('https://source.unsplash.com/1600x900/?lattice,geometry,crystal,code');min-height:100px" class="imageContainerSmall">
				    	<div style="background:rgba(0,0,0,0.75);height:100px" class="imageContainerSmallDiv">  
					        <div style="margin-top: auto;margin-bottom: auto;">
					        	<div class="container">
						            <h1 style="text-align:left;font-size:35px;color:rgba(255,255,255,0.9);font-weight:400;"><a style="color:white" href="market/{{token.string}}{{item.title}}" ui-sref="market({ id: token.string+item.title})">{{item.title}}</a></h1>
						        </div>
					        </div>
					    </div>
					</div>
				    <div style="padding:16px">
				    	<p><a href="market/{{token.string}}{{item.title}}{{item.manifolds}}" ui-sref="market({ id: token.string+item.title+item.manifolds})">{{item.manifolds}}</a></p>
				    </div> 
				</div>
			</div>

	    </div>

    </div>

    <!--ANALYSIS-->
	<div class="row" ng-show="selectedTab=='ANALYSIS'">

		<div class="card">

			<!--
			<div style="background:url('https://source.unsplash.com/1600x900/?lattice,geometry,crystal,code')" class="imageContainerSmall">
			    <div style="background:rgba(0,0,0,0.75)" class="imageContainerSmallDiv">  
			        <div style="margin-top: auto;margin-bottom: auto;">
			        	<div class="container">
				            <h1 style="text-align:left;font-size:35px;color:rgba(255,255,255,0.9);font-weight:400;">Market Analysis</h1>
				        </div>
			        </div>
			    </div>
			</div>
			-->

			<div style="padding:16px">
				<p>Size: {{markets.length}}</p>
				<p>Rank: {{stateParams.id.split(',').length}}
				<p>Highest Dimension: 7</p>
				<p>Nodes: {{graphDataPower.nodes.length}}, Connections: {{graphDataPower.links.length}}</p>
	    		<p>Computed Lattice Neighborhood</p>

				<!--CREATE.CAPITAL PDF??-->
				<!--COMBINITORIALS SERVED FIRST-->
	    		<!--DEPTH OF THE COMBINITORIAL SPACES-->
	    		<!--COMBINITORIAL & MANIFOLD MAPPING SPACE(S)-->
				<!--VALUE VECTOR-->
				<!--1ST DEGREE-->
			    <!--VALUE MATRIX-->
				<!--VALUE TENSOR-->
				<!--VALUE TENSOR NETWORK-->

    		</div>
    	</div>
	</div>

	<!--CONTENT-->
	<div ng-show="selectedTab=='CONTENT'">
        <div class="card"><button class="btn btn-default log-btn" ng-click="contentToggle()">+ Market Content</button></div>
		<div class="card" ng-repeat="item in contentList">
		    <div style="padding:16px">
		        <div>
		            <img class="card-avatar" ng-src="{{item.user.avatarUrl}}" src="{{item.user.avatarUrl}}" err-src="/images/avatar.png">
		            <a style="display:inline;font-weight:600;margin-left:5px" href="member/{{item.user.username}}" ui-sref="member({path:item.user.username})">{{item.user.username}}</a>
		            <p style="display:inline;font-size:10px;color:gray;margin-left:5px" am-time-ago="item.createdAt"></p>
		        </div> 
		        <div style="margin-left:42px"><span style="display:inline" ng-bind-html="renderMessage(item.content)"></span></div>
		    </div>
		    <div class="" class="card-footer">
		        <a style="padding:5px;color:grey" href="#" ng-click="createReaction(item, 'plus')"><i class="fa fa-angle-up"></i> {{item.reactions.plus}} like </a> 
		        <a style="padding:5px;color:grey" href="#" ng-click="createReaction(item, 'minus')" ><i class="fa fa-angle-down"></i> {{item.reactions.,inus}} dislike </a>
		        <a style="padding:5px;color:grey" href="#" ng-click="reply(item)"><i class="fa fa-comment-o"></i> comment </a>
		        <a style="color:grey" class="pull-right" href="content/{{item.id}}" ui-sref="content({id:item.id})"><i class="fa fa-link grey"></i></a>
		    </div>
		    <div ng-show="item.showReply" class="card-footer">
		        <form role="form" ng-submit="createContent(item)">
		            <text-angular ng-model="newContent.content" ta-toolbar="[['p','h1','h2','bold','italics','quote','pre','insertLink', 'html']]"></text-angular>
		            <button type="submit" style="width:100%" class="btn btn-default log-btn" ng-disabled="!newContent.content">create</button>
		        </form>
		    </div>
		</div>
	</div>

</div>
<div class="spacing-50"></div>