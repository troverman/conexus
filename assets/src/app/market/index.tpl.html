<div class="page-heading">
    <div class="container"> 
        <div class="spacing-25"></div>
        <div class="row">
            <div class="col-xs-12">
				<h1>{{market.title}} Markets</h1>
				<p style="color:white">{{stateParams.id}} | {{market.marketCount}} markets | {{market.circulation}} tokens in circulation </p>
            </div>
        </div>
        <div class="spacing-25"></div>
    </div>
</div>

<div class="container">

	<div class="spacing-10"></div>

	<!--<div class="row">
		<div class="card">
			<div style="padding:16px;">
				<h1>{{market.title}} MARKETS</h1>
				<p style="color:gray">{{stateParams.id}} | {{market.marketCount}} markets | {{market.circulation}} tokens in circulation </p>
			</div>
		</div>
	</div>-->

	<div class="row">
	    <div class="card">
	        <form style="display:flex;flex-direction:row;">
	            <input style="border:0px;flex-grow:2;" class="form-control" type="text" placeholder= "Seach | Filter" ng-model="searchQuery" ng-submit="keyPress(searchQuery)">
	            <div style="border:0px" class="btn btn-default" style="float:right">
	                <a ng-click="keyPress(searchQuery)" href="#" role="button">
	                    <h5 style="color:black;text-align:right" class="noselect">Search <i class="fa fa-search"></i></h5>
	                </a>
	            </div>
	        </form>
	    </div>
	</div>

	<div class="row">
		<div class="card">
			<div class="row">
				<div class="col-md-8">
					<div style="padding:16px;">

						<span>
							<span ng-repeat="dimension in baseMarkets"><a href="market/{{dimension}}">{{dimension}}</a> | </span>
							<a href="#">+ Dimension</a>

							<form style="display:flex;flex-direction:row;">
				            	<input ng-model="newMarket.baseMarket" style="border:0px;flex-grow:2;" class="form-control" type="text" placeholder= "Seach | Filter">
				            	<div ng-click="addMarket('baseMarket')" style="border:0px" class="btn btn-default dropdown sort-dropdown noselect" style="float:right">
					                <a href="#">
					                    <h5 style="color:black;text-align:right" class="noselect"> <i class="fa fa-search"></i></h5>
					                </a>
								</div>
				        	</form>

						</span>

						<br>

						<highchart config="chartMap"></highchart>

						<br>

						<span>
							<span ng-repeat="dimension in markets"><a href="market/{{dimension}}">{{dimension}}</a> | </span>
							<a href="#">+ Dimension</a>

							<form style="display:flex;flex-direction:row;">
				            	<input ng-model="newMarket.market" style="border:0px;flex-grow:2;" class="form-control" type="text" placeholder= "Seach | Filter">
				            	<div ng-click="addMarket('market')" style="border:0px" class="btn btn-default dropdown sort-dropdown noselect" style="float:right">
					                <a href="#">
					                    <h5 style="color:black;text-align:right" class="noselect"> <i class="fa fa-search"></i></h5>
					                </a>
								</div>
				        	</form>

						</span>

						<br>
						<h5>Explore</h5>
						<span ng-repeat="market in markets"><a href="market/{{market}}">{{market}} </a></span>

					</div>
				</div>
				<div class="col-md-4" style="max-height:750px;overflow:scroll">
				    <div class="card" ng-repeat="market in markets">
				    	<div style="padding:16px;">
							<div class="row">
					    		<div class="col-sm-6">
					    			<a href="market/{{stateParams.id}}/{{market}}">
										<img style="height:50px" src="images/loading.gif">
					    				<h4>{{market}}</h4>
					    			</a>
					    		</div>
								<div class="col-sm-6" style="text-align:right">
									<p style="color:gray;font-size:10px">0.2042 {{stateParams.id}}/{{market}}</p>
									<p style="color:gray;font-size:10px">8% 24HR Change</p>
									<p style="color:gray;font-size:10px">2031{{stateParams.id}} 24HR Volume</p>
									<p style="color:gray;font-size:10px">21231{{stateParams.id}} Depth</p>
					    		</div>
							</div>

							<!--<button class="btn btn-default log-btn">+ Dimension</button>-->

						</div>
				    </div>
					<button class="btn btn-default log-btn">More <i></i></button>
			    </div>
		    </div>
		</div>
	</div>

	<!--<div class="row">
		<div class="card" ng-repeat="market in markets">
		    <div style="padding:16px;">
		    	<a href="market/{{stateParams.id}}/{{market}}"><h4>{{market}}</h4></a>
		    	<p style="color:gray">{{stateParams.id}}/{{market}} markets</p>
		    </div>
	    </div>
	</div>-->

	<!--<div class="row">
		<div class="card">
			<div style="padding:16px;">
				<h2>Order Book</h2>
				<button class="btn btn-default log-btn" ng-click="newOrderToggle()">+ Order</button>
			</div>
		</div>
	</div>

	<div class="row">
		<div class="card" ng-show="newOrderToggleVar">
		    <div style="padding:16px;">
				<form role="form" ng-submit="createOrder(newTask)">
					<div class="form-group col-sm-6">
						<input placeholder="Order Identifer Set 1" type="text" ng-disabled="true" ng-model="newOrder.identiferSet" class="form-control" id="taskTitle">
					</div>
					<div class="form-group col-sm-6">
						<input placeholder="Order Amount Set 1" type="text" ng-model="newOrder.amountSet" class="form-control" id="taskTitle">
					</div>
					<div class="form-group col-sm-6">
						<input placeholder="Order Identifer Set 2" type="text" ng-model="newOrder.identiferSet1" class="form-control" id="taskTitle">
					</div>
					<div class="form-group col-sm-6">
						<input placeholder="Order Amount Set 2" type="text" ng-model="newOrder.amountSet1" class="form-control" id="taskTitle">
					</div>
					<button type="submit" class="btn btn-default log-btn" ng-disabled="!newOrder.amountSet">create</button>
				</form>
			</div>
		</div>
	</div>

	<div class="row">
		<div ng-repeat="order in orders">
	        <div class="card">
	            <div style="padding:16px">
                	<span ng-repeat="item in order.amountSet">
						{{order.amountSet[$index]}} <a href="market/{{order.identiferSet[$index]}}">{{order.identiferSet[$index]}}</a> 
					</span>
					<span> | </span>
					<span ng-repeat="item in order.amountSet1">
						{{order.amountSet1[$index]}} <a href="market/{{order.identiferSet1[$index]}}">{{order.identiferSet1[$index]}}</a> 
					</span>
					<p style="display:inline;font-size:10px;color:gray;margin-left:5px" am-time-ago="order.createdAt"></p>
	            </div>
	            <div class="card-footer">
	                <a href="#" ng-click="createReaction(order, 'plus')"><i class="fa fa-angle-up"></i> {{order.plusCount}} like </a> 
	                <a href="#" ng-click="createReaction(order, 'minus')" ><i class="fa fa-angle-down"></i> {{order.minusCount}} dislike </a>
	                <a href="#" ng-click="reply(order)"><i class="fa fa-comment-o"></i> comment </a>
	                <a class="pull-right" style="padding:0px;" href="order/{{order.id}}"><i class="fa fa-link grey"></i></a>
	            </div>
	            <div ng-show="order.showReply" style="padding: 8px 16px 8px;background-color: #f9f9f9">
		            <form role="form" ng-submit="createPost(order)">
		                <text-angular ng-model="newPost.content" ta-toolbar="[['p','h1','h2','bold','italics','quote','pre','insertLink', 'html']]"></text-angular>
		                <button type="submit" style="width:100%" class="btn btn-default log-btn" ng-disabled="!newPost.content">create</button>
		            </form>
		        </div>
	        </div>
		</div>
	</div>-->

	<!--
	<div class="row">
		<div class="card">
			<div style="padding:16px;">
				<h2>Trades</h2>
			</div>
		</div>
		<div ng-repeat="order in orders">
	        <div class="card">
	            <div style="padding:16px">
                	<span ng-repeat="item in order.amountSet">
						{{order.amountSet[$index]}} <a href="market/{{order.identiferSet[$index]}}">{{order.identiferSet[$index]}}</a> 
					</span>
					<span> | </span>
					<span ng-repeat="item in order.amountSet1">
						{{order.amountSet1[$index]}} <a href="market/{{order.identiferSet1[$index]}}">{{order.identiferSet1[$index]}}</a> 
					</span>
					<p style="display:inline;font-size:10px;color:gray;margin-left:5px" am-time-ago="order.createdAt"></p>
	            </div>
	            <div class="card-footer">
	                <a href="#" ng-click="createReaction(order, 'plus')"><i class="fa fa-angle-up"></i> {{order.plusCount}} like </a> 
	                <a href="#" ng-click="createReaction(order, 'minus')" ><i class="fa fa-angle-down"></i> {{order.minusCount}} dislike </a>
	                <a href="#" ng-click="reply(order)"><i class="fa fa-comment-o"></i> comment </a>
	                <a class="pull-right" style="padding:0px;" href="order/{{order.id}}"><i class="fa fa-link grey"></i></a>
	            </div>
	            <div ng-show="order.showReply" style="padding: 8px 16px 8px;background-color: #f9f9f9">
		            <form role="form" ng-submit="createPost(order)">
		                <text-angular ng-model="newPost.content" ta-toolbar="[['p','h1','h2','bold','italics','quote','pre','insertLink', 'html']]"></text-angular>
		                <button type="submit" style="width:100%" class="btn btn-default log-btn" ng-disabled="!newPost.content">create</button>
		            </form>
		        </div>
	        </div>
		</div>
	</div>
	-->

	<!--
	<div class="row">
		<div class="card">
			<div style="padding:16px;">
				<h2>Transactions</h2>
			</div>
		</div>
		<div ng-repeat="order in orders">
	        <div class="card">
	            <div style="padding:16px">
                	<span ng-repeat="item in order.amountSet">
						{{order.amountSet[$index]}} <a href="market/{{order.identiferSet[$index]}}">{{order.identiferSet[$index]}}</a> 
					</span>
					<span> | </span>
					<span ng-repeat="item in order.amountSet1">
						{{order.amountSet1[$index]}} <a href="market/{{order.identiferSet1[$index]}}">{{order.identiferSet1[$index]}}</a> 
					</span>
					<p style="display:inline;font-size:10px;color:gray;margin-left:5px" am-time-ago="order.createdAt"></p>
	            </div>
	            <div class="card-footer">
	                <a href="#" ng-click="createReaction(order, 'plus')"><i class="fa fa-angle-up"></i> {{order.plusCount}} like </a> 
	                <a href="#" ng-click="createReaction(order, 'minus')" ><i class="fa fa-angle-down"></i> {{order.minusCount}} dislike </a>
	                <a href="#" ng-click="reply(order)"><i class="fa fa-comment-o"></i> comment </a>
	                <a class="pull-right" style="padding:0px;" href="order/{{order.id}}"><i class="fa fa-link grey"></i></a>
	            </div>
	            <div ng-show="transaction.showReply" style="padding: 8px 16px 8px;background-color: #f9f9f9">
		            <form role="form" ng-submit="createPost(order)">
		                <text-angular ng-model="newPost.content" ta-toolbar="[['p','h1','h2','bold','italics','quote','pre','insertLink', 'html']]"></text-angular>
		                <button type="submit" style="width:100%" class="btn btn-default log-btn" ng-disabled="!newPost.content">create</button>
		            </form>
		        </div>
	        </div>
		</div>
	</div>
	-->

	<div class="row">
		<div class="card">
			<div style="padding:16px;">
				<h2>onMint Actions</h2>
		    </div>
		</div>
	</div>

	<div class="row">
		<div class="card">
			<div style="padding:16px;">
				<h2>Content</h2>
		    </div>
		</div>
	</div>

	<div class="row" ng-show="currentUser">
	    <div class="card">
	        <div style="padding:16px;">
	        	<h4>Create A Post</h4>
                <form role="form" ng-submit="createPost(newPost)">
                    <text-angular ng-model="newPost.content" ta-toolbar="[['p','h1','h2','bold','italics','quote','pre','insertLink', 'html']]"></text-angular>
                    <button type="submit" style="width:100%" class="btn btn-default log-btn" ng-disabled="!newPost.content">create</button>
                </form>
	        </div>
	    </div>
	</div>
	
	<div class="row">
		<div class="card" ng-repeat="post in posts">
		    <div style="padding:16px">
		        <div>
		            <img class="card-avatar" ng-src="{{post.user.avatarUrl}}" src="{{post.user.avatarUrl}}" err-src="/images/avatar.png">
		            <a style="display:inline;font-weight:600;margin-left:5px" href="member/{{post.user.username}}">{{post.user.username}}</a>
		            <p style="display:inline;font-size:10px;color:gray;margin-left:5px" am-time-ago="post.createdAt"></p>
		        </div> 
		        <div style="margin-left:42px"><span style="display:inline" ng-bind-html="renderMessage(post.content)"></span></div>
		    </div>
		    <div class="" style="padding: 8px 16px 8px;background-color: #f9f9f9">
		        <a style="padding:5px;color:grey" href="#" ng-click="createReaction(post, 'plus')"><i class="fa fa-angle-up"></i> {{post.plusCount}} like </a> 
		        <a style="padding:5px;color:grey" href="#" ng-click="createReaction(post, 'minus')" ><i class="fa fa-angle-down"></i> {{post.minusCount}} dislike </a>
		        <a style="padding:5px;color:grey" href="#" ng-click="reply(post)"><i class="fa fa-comment-o"></i> comment </a>
		        <a style="color:grey" class="pull-right" href="content/{{post.id}}"><i class="fa fa-link grey"></i></a>
		    </div>
		    <!--TODO: NESTED -->
		    <div ng-show="post.showReply" style="padding: 8px 16px 8px;background-color: #f9f9f9">
		        <form role="form" ng-submit="createPost(post)">
		            <text-angular ng-model="newPost.content" ta-toolbar="[['p','h1','h2','bold','italics','quote','pre','insertLink', 'html']]"></text-angular>
		            <button type="submit" style="width:100%" class="btn btn-default log-btn" ng-disabled="!newPost.content">create</button>
		        </form>
		    </div>
		</div>
	</div>

	<div class="spacing-10"></div>

</div>