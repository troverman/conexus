!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.DatastoreCore=n():t.DatastoreCore=n()}(window,function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=39)}([function(t,n,e){"use strict";var r=e(34),o=e(100),i=e(18),u=e(36);n.Key=r,n.MemoryDatastore=o,n.utils=i,n.Errors=u},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isAsync=void 0;var r,o=e(67),i=(r=o)&&r.__esModule?r:{default:r};var u="function"==typeof Symbol;function f(t){return u&&"AsyncFunction"===t[Symbol.toStringTag]}n.default=function(t){return f(t)?(0,i.default)(t):t},n.isAsync=f},function(t,n,e){"use strict";t.exports=function(t,n){var e,r;function o(i){if(e=i,r)return o.abort();!function o(){for(var i=!0,u=!1;i;)if(u=!1,e(null,function(f,c){if(u=!0,f=f||r){if(i=!1,n)n(!0===f?null:f);else if(f&&!0!==f)throw f}else t&&!1===t(c)||r?(i=!1,e(r||!0,n||function(){})):i||o()}),!u)return void(i=!1)}()}return o.abort=function(t,n){if("function"==typeof t&&(n=t,t=!0),r=t||!0,e)return e(r,n||function(){})},o}},function(t,n,e){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return t&&("string"==typeof t?function(n){return n[t]}:"object"===r(t)&&"function"==typeof t.exec?function(n){var e=t.exec(n);return e&&e[0]}:t)}},function(t,n,e){"use strict";t.exports=function(){}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,n){n|=0;for(var e=Math.max(t.length-n,0),r=Array(e),o=0;o<e;o++)r[o]=t[n+o];return r},t.exports=n.default},function(t,n,e){"use strict";function r(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=e(7),i=function(){function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.child=n,this.transform=e}var n,e,i;return n=t,(e=[{key:"open",value:function(t){this.child.open(t)}},{key:"put",value:function(t,n,e){this.child.put(this.transform.convert(t),n,e)}},{key:"get",value:function(t,n){this.child.get(this.transform.convert(t),n)}},{key:"has",value:function(t,n){this.child.has(this.transform.convert(t),n)}},{key:"delete",value:function(t,n){this.child.delete(this.transform.convert(t),n)}},{key:"batch",value:function(){var t=this,n=this.child.batch();return{put:function(e,r){n.put(t.transform.convert(e),r)},delete:function(e){n.delete(t.transform.convert(e))},commit:function(t){n.commit(t)}}}},{key:"query",value:function(t){var n=this;return o(this.child.query(t),o.map(function(t){return t.key=n.transform.invert(t.key),t}))}},{key:"close",value:function(t){this.child.close(t)}}])&&r(n.prototype,e),i&&r(n,i),t}();t.exports=i},function(t,n,e){"use strict";var r=e(41),o=e(47),i=e(53);for(var u in(n=t.exports=e(61)).pull=n,r)n[u]=r[u];for(var u in i)n[u]=i[u];for(var u in o)n[u]=o[u]},function(t,n,e){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(i){"object"===("undefined"==typeof window?"undefined":r(window))&&(o=window)}t.exports=o},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var n=t;t=null,n.apply(this,arguments)}},t.exports=n.default},function(t,n,e){"use strict";var r=e(72),o=e(31);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,n,e){"use strict";var r=e(19);t.exports=function(t,n){if(!t)return function(t,e){return t?r(e,t,n):e(!0)};Array.isArray(t)||(t=Object.keys(t).map(function(n){return t[n]}));var e=0;return function(o,i){if(o)return r(i,o,n);e>=t.length?i(!0):i(null,t[e++])}}},function(t,n,e){"use strict";var r=e(2);t.exports=function(t,n,e){e||(e=n,n=null);var o=r(function(e){n=t(n,e)},function(t){e(t,n)});return 2===arguments.length?function(t){t(null,function(r,i){if(r)return e(!0===r?null:r);n=i,o(t)})}:o}},function(t,n,e){"use strict";var r=e(21);t.exports=function(t){return t=r(t),function(n){return function e(r,o){for(var i,u=!0;u;)u=!1,i=!0,n(r,function(n,r){if(!n&&!t(r))return i?u=!0:e(n,o);o(n,r)}),i=!1}}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){return function(){if(null!==t){var n=t;t=null,n.apply(this,arguments)}}},t.exports=n.default},function(t,n,e){"use strict";var r,o,i=t.exports={};function u(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}function c(t){if(r===setTimeout)return setTimeout(t,0);if((r===u||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(n){try{return r.call(null,t,0)}catch(n){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:u}catch(t){r=u}try{o="function"==typeof clearTimeout?clearTimeout:f}catch(t){o=f}}();var a,s=[],l=!1,p=-1;function h(){l&&a&&(l=!1,a.length?s=a.concat(s):p=-1,s.length&&y())}function y(){if(!l){var t=c(h);l=!0;for(var n=s.length;n;){for(a=s,s=[];++p<n;)a&&a[p].run();p=-1,n=s.length}a=null,l=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===f||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(n){try{return o.call(null,t)}catch(n){return o.call(this,t)}}}(t)}}function d(t,n){this.fun=t,this.array=n}function v(){}i.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];s.push(new d(t,n)),1!==s.length||l||c(y)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,n,e){"use strict";var r=e(28),o=e(73),i=e(74),u="[object Null]",f="[object Undefined]",c=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?f:u:c&&c in Object(t)?o(t):i(t)}},function(t,n,e){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return null!=t&&"object"==r(t)}},function(t,n,e){"use strict";var r=e(7),o=e(102),i=e(103),u=e(104),f=e(35);n.asyncFilter=function(t){var n,e,r=!1;return function(o){return function i(u,f){if(e)return f(e);u?(e=u,o(u,r?function(){r?n=f:f(u)}:f)):o(null,function(o,u){o?f(o):e?f(e):(r=!0,t(u,function(t,o){r=!1,e?(f(e),n(e)):t?i(t,f):o?f(null,u):i(null,f)}))})}}},n.asyncSort=function(t){var n=o(),e=r.collect(function(e,o){if(e)return n.abort(e);t(o,function(t,e){if(t)return n.abort(t);n.resolve(r.values(o))})});return function(t){return e(t),n}},n.replaceStartWith=function(t,n){var e=new RegExp("^"+n);return t.replace(e,"")},n.tmpdir=function(){return i.join(u.tmpdir(),f())}},function(t,n,e){"use strict";t.exports=function(t,n,e){t(n),e&&e(!0===n?null:n)}},function(t,n,e){"use strict";var r=e(19);t.exports=function(t,n){return function(e,o){if(e)return r(o,e,n);if(null!=t){var i=t;t=null,o(null,i)}else o(!0)}}},function(t,n,e){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=e(3);function i(t){return t}t.exports=function(t){return"object"===r(t)&&"function"==typeof t.test?function(n){return t.test(n)}:o(t)||i}},function(t,n,e){"use strict";function r(t){return t}var o=e(3),i=e(13);t.exports=function(t,n){t=o(t)||r;var e={};return i(function(r){var o=t(r);return e[o]?!!n:(e[o]=!0,!n)})}},function(t,n,e){"use strict";(function(t){var r=e(63),o=e(64),i=e(65);function u(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(t,n){if(u()<n)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(n)).__proto__=c.prototype:(null===t&&(t=new c(n)),t.length=n),t}function c(t,n,e){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,n,e);if("number"==typeof t){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return a(this,t,n,e)}function a(t,n,e,r){if("number"==typeof n)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer?function(t,n,e,r){if(n.byteLength,e<0||n.byteLength<e)throw new RangeError("'offset' is out of bounds");if(n.byteLength<e+(r||0))throw new RangeError("'length' is out of bounds");n=void 0===e&&void 0===r?new Uint8Array(n):void 0===r?new Uint8Array(n,e):new Uint8Array(n,e,r);c.TYPED_ARRAY_SUPPORT?(t=n).__proto__=c.prototype:t=p(t,n);return t}(t,n,e,r):"string"==typeof n?function(t,n,e){"string"==typeof e&&""!==e||(e="utf8");if(!c.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var r=0|y(n,e),o=(t=f(t,r)).write(n,e);o!==r&&(t=t.slice(0,o));return t}(t,n,e):function(t,n){if(c.isBuffer(n)){var e=0|h(n.length);return 0===(t=f(t,e)).length?t:(n.copy(t,0,0,e),t)}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||(r=n.length)!=r?f(t,0):p(t,n);if("Buffer"===n.type&&i(n.data))return p(t,n.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,n)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,n){if(s(n),t=f(t,n<0?0:0|h(n)),!c.TYPED_ARRAY_SUPPORT)for(var e=0;e<n;++e)t[e]=0;return t}function p(t,n){var e=n.length<0?0:0|h(n.length);t=f(t,e);for(var r=0;r<e;r+=1)t[r]=255&n[r];return t}function h(t){if(t>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|t}function y(t,n){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var r=!1;;)switch(n){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return N(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return Y(t).length;default:if(r)return N(t).length;n=(""+n).toLowerCase(),r=!0}}function d(t,n,e){var r=t[n];t[n]=t[e],t[e]=r}function v(t,n,e,r,o){if(0===t.length)return-1;if("string"==typeof e?(r=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=o?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(o)return-1;e=t.length-1}else if(e<0){if(!o)return-1;e=0}if("string"==typeof n&&(n=c.from(n,r)),c.isBuffer(n))return 0===n.length?-1:b(t,n,e,r,o);if("number"==typeof n)return n&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,n,e):Uint8Array.prototype.lastIndexOf.call(t,n,e):b(t,[n],e,r,o);throw new TypeError("val must be string, number or Buffer")}function b(t,n,e,r,o){var i,u=1,f=t.length,c=n.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||n.length<2)return-1;u=2,f/=2,c/=2,e/=2}function a(t,n){return 1===u?t[n]:t.readUInt16BE(n*u)}if(o){var s=-1;for(i=e;i<f;i++)if(a(t,i)===a(n,-1===s?0:i-s)){if(-1===s&&(s=i),i-s+1===c)return s*u}else-1!==s&&(i-=i-s),s=-1}else for(e+c>f&&(e=f-c),i=e;i>=0;i--){for(var l=!0,p=0;p<c;p++)if(a(t,i+p)!==a(n,p)){l=!1;break}if(l)return i}return-1}function g(t,n,e,r){e=Number(e)||0;var o=t.length-e;r?(r=Number(r))>o&&(r=o):r=o;var i=n.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var u=0;u<r;++u){var f=parseInt(n.substr(2*u,2),16);if(isNaN(f))return u;t[e+u]=f}return u}function m(t,n,e,r){return K(N(n,t.length-e),t,e,r)}function w(t,n,e,r){return K(function(t){for(var n=[],e=0;e<t.length;++e)n.push(255&t.charCodeAt(e));return n}(n),t,e,r)}function _(t,n,e,r){return w(t,n,e,r)}function S(t,n,e,r){return K(Y(n),t,e,r)}function E(t,n,e,r){return K(function(t,n){for(var e,r,o,i=[],u=0;u<t.length&&!((n-=2)<0);++u)e=t.charCodeAt(u),r=e>>8,o=e%256,i.push(o),i.push(r);return i}(n,t.length-e),t,e,r)}function x(t,n,e){return 0===n&&e===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(n,e))}function A(t,n,e){e=Math.min(t.length,e);for(var r=[],o=n;o<e;){var i,u,f,c,a=t[o],s=null,l=a>239?4:a>223?3:a>191?2:1;if(o+l<=e)switch(l){case 1:a<128&&(s=a);break;case 2:128==(192&(i=t[o+1]))&&(c=(31&a)<<6|63&i)>127&&(s=c);break;case 3:i=t[o+1],u=t[o+2],128==(192&i)&&128==(192&u)&&(c=(15&a)<<12|(63&i)<<6|63&u)>2047&&(c<55296||c>57343)&&(s=c);break;case 4:i=t[o+1],u=t[o+2],f=t[o+3],128==(192&i)&&128==(192&u)&&128==(192&f)&&(c=(15&a)<<18|(63&i)<<12|(63&u)<<6|63&f)>65535&&c<1114112&&(s=c)}null===s?(s=65533,l=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),o+=l}return function(t){var n=t.length;if(n<=k)return String.fromCharCode.apply(String,t);var e="",r=0;for(;r<n;)e+=String.fromCharCode.apply(String,t.slice(r,r+=k));return e}(r)}n.Buffer=c,n.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},n.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(n){return!1}}(),n.kMaxLength=u(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,n,e){return a(null,t,n,e)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,n,e){return function(t,n,e,r){return s(n),n<=0?f(t,n):void 0!==e?"string"==typeof r?f(t,n).fill(e,r):f(t,n).fill(e):f(t,n)}(null,t,n,e)},c.allocUnsafe=function(t){return l(null,t)},c.allocUnsafeSlow=function(t){return l(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,n){if(!c.isBuffer(t)||!c.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var e=t.length,r=n.length,o=0,i=Math.min(e,r);o<i;++o)if(t[o]!==n[o]){e=t[o],r=n[o];break}return e<r?-1:r<e?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,n){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var e;if(void 0===n)for(n=0,e=0;e<t.length;++e)n+=t[e].length;var r=c.allocUnsafe(n),o=0;for(e=0;e<t.length;++e){var u=t[e];if(!c.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(r,o),o+=u.length}return r},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)d(this,n,n+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)d(this,n,n+3),d(this,n+1,n+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)d(this,n,n+7),d(this,n+1,n+6),d(this,n+2,n+5),d(this,n+3,n+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):function(t,n,e){var r=!1;if((void 0===n||n<0)&&(n=0),n>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(n>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,n,e);case"utf8":case"utf-8":return A(this,n,e);case"ascii":return j(this,n,e);case"latin1":case"binary":return O(this,n,e);case"base64":return x(this,n,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,n,e);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,n,e,r,o){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===e&&(e=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),n<0||e>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&n>=e)return 0;if(r>=o)return-1;if(n>=e)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(r>>>=0),u=(e>>>=0)-(n>>>=0),f=Math.min(i,u),a=this.slice(r,o),s=t.slice(n,e),l=0;l<f;++l)if(a[l]!==s[l]){i=a[l],u=s[l];break}return i<u?-1:u<i?1:0},c.prototype.includes=function(t,n,e){return-1!==this.indexOf(t,n,e)},c.prototype.indexOf=function(t,n,e){return v(this,t,n,e,!0)},c.prototype.lastIndexOf=function(t,n,e){return v(this,t,n,e,!1)},c.prototype.write=function(t,n,e,r){if(void 0===n)r="utf8",e=this.length,n=0;else if(void 0===e&&"string"==typeof n)r=n,e=this.length,n=0;else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n|=0,isFinite(e)?(e|=0,void 0===r&&(r="utf8")):(r=e,e=void 0)}var o=this.length-n;if((void 0===e||e>o)&&(e=o),t.length>0&&(e<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return g(this,t,n,e);case"utf8":case"utf-8":return m(this,t,n,e);case"ascii":return w(this,t,n,e);case"latin1":case"binary":return _(this,t,n,e);case"base64":return S(this,t,n,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,n,e);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function j(t,n,e){var r="";e=Math.min(t.length,e);for(var o=n;o<e;++o)r+=String.fromCharCode(127&t[o]);return r}function O(t,n,e){var r="";e=Math.min(t.length,e);for(var o=n;o<e;++o)r+=String.fromCharCode(t[o]);return r}function T(t,n,e){var r=t.length;(!n||n<0)&&(n=0),(!e||e<0||e>r)&&(e=r);for(var o="",i=n;i<e;++i)o+=F(t[i]);return o}function P(t,n,e){for(var r=t.slice(n,e),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function R(t,n,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+n>e)throw new RangeError("Trying to access beyond buffer length")}function I(t,n,e,r,o,i){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<i)throw new RangeError('"value" argument is out of bounds');if(e+r>t.length)throw new RangeError("Index out of range")}function M(t,n,e,r){n<0&&(n=65535+n+1);for(var o=0,i=Math.min(t.length-e,2);o<i;++o)t[e+o]=(n&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function B(t,n,e,r){n<0&&(n=4294967295+n+1);for(var o=0,i=Math.min(t.length-e,4);o<i;++o)t[e+o]=n>>>8*(r?o:3-o)&255}function U(t,n,e,r,o,i){if(e+r>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function D(t,n,e,r,i){return i||U(t,0,e,4),o.write(t,n,e,r,23,4),e+4}function L(t,n,e,r,i){return i||U(t,0,e,8),o.write(t,n,e,r,52,8),e+8}c.prototype.slice=function(t,n){var e,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(n=void 0===n?r:~~n)<0?(n+=r)<0&&(n=0):n>r&&(n=r),n<t&&(n=t),c.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,n)).__proto__=c.prototype;else{var o=n-t;e=new c(o,void 0);for(var i=0;i<o;++i)e[i]=this[i+t]}return e},c.prototype.readUIntLE=function(t,n,e){t|=0,n|=0,e||R(t,n,this.length);for(var r=this[t],o=1,i=0;++i<n&&(o*=256);)r+=this[t+i]*o;return r},c.prototype.readUIntBE=function(t,n,e){t|=0,n|=0,e||R(t,n,this.length);for(var r=this[t+--n],o=1;n>0&&(o*=256);)r+=this[t+--n]*o;return r},c.prototype.readUInt8=function(t,n){return n||R(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,n){return n||R(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,n){return n||R(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,n){return n||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,n){return n||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,n,e){t|=0,n|=0,e||R(t,n,this.length);for(var r=this[t],o=1,i=0;++i<n&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*n)),r},c.prototype.readIntBE=function(t,n,e){t|=0,n|=0,e||R(t,n,this.length);for(var r=n,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*n)),i},c.prototype.readInt8=function(t,n){return n||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,n){n||R(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},c.prototype.readInt16BE=function(t,n){n||R(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},c.prototype.readInt32LE=function(t,n){return n||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,n){return n||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,n){return n||R(t,4,this.length),o.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,n){return n||R(t,4,this.length),o.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,n){return n||R(t,8,this.length),o.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,n){return n||R(t,8,this.length),o.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,n,e,r){(t=+t,n|=0,e|=0,r)||I(this,t,n,e,Math.pow(2,8*e)-1,0);var o=1,i=0;for(this[n]=255&t;++i<e&&(o*=256);)this[n+i]=t/o&255;return n+e},c.prototype.writeUIntBE=function(t,n,e,r){(t=+t,n|=0,e|=0,r)||I(this,t,n,e,Math.pow(2,8*e)-1,0);var o=e-1,i=1;for(this[n+o]=255&t;--o>=0&&(i*=256);)this[n+o]=t/i&255;return n+e},c.prototype.writeUInt8=function(t,n,e){return t=+t,n|=0,e||I(this,t,n,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},c.prototype.writeUInt16LE=function(t,n,e){return t=+t,n|=0,e||I(this,t,n,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):M(this,t,n,!0),n+2},c.prototype.writeUInt16BE=function(t,n,e){return t=+t,n|=0,e||I(this,t,n,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):M(this,t,n,!1),n+2},c.prototype.writeUInt32LE=function(t,n,e){return t=+t,n|=0,e||I(this,t,n,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):B(this,t,n,!0),n+4},c.prototype.writeUInt32BE=function(t,n,e){return t=+t,n|=0,e||I(this,t,n,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):B(this,t,n,!1),n+4},c.prototype.writeIntLE=function(t,n,e,r){if(t=+t,n|=0,!r){var o=Math.pow(2,8*e-1);I(this,t,n,e,o-1,-o)}var i=0,u=1,f=0;for(this[n]=255&t;++i<e&&(u*=256);)t<0&&0===f&&0!==this[n+i-1]&&(f=1),this[n+i]=(t/u>>0)-f&255;return n+e},c.prototype.writeIntBE=function(t,n,e,r){if(t=+t,n|=0,!r){var o=Math.pow(2,8*e-1);I(this,t,n,e,o-1,-o)}var i=e-1,u=1,f=0;for(this[n+i]=255&t;--i>=0&&(u*=256);)t<0&&0===f&&0!==this[n+i+1]&&(f=1),this[n+i]=(t/u>>0)-f&255;return n+e},c.prototype.writeInt8=function(t,n,e){return t=+t,n|=0,e||I(this,t,n,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[n]=255&t,n+1},c.prototype.writeInt16LE=function(t,n,e){return t=+t,n|=0,e||I(this,t,n,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):M(this,t,n,!0),n+2},c.prototype.writeInt16BE=function(t,n,e){return t=+t,n|=0,e||I(this,t,n,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):M(this,t,n,!1),n+2},c.prototype.writeInt32LE=function(t,n,e){return t=+t,n|=0,e||I(this,t,n,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):B(this,t,n,!0),n+4},c.prototype.writeInt32BE=function(t,n,e){return t=+t,n|=0,e||I(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):B(this,t,n,!1),n+4},c.prototype.writeFloatLE=function(t,n,e){return D(this,t,n,!0,e)},c.prototype.writeFloatBE=function(t,n,e){return D(this,t,n,!1,e)},c.prototype.writeDoubleLE=function(t,n,e){return L(this,t,n,!0,e)},c.prototype.writeDoubleBE=function(t,n,e){return L(this,t,n,!1,e)},c.prototype.copy=function(t,n,e,r){if(e||(e=0),r||0===r||(r=this.length),n>=t.length&&(n=t.length),n||(n=0),r>0&&r<e&&(r=e),r===e)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-n<r-e&&(r=t.length-n+e);var o,i=r-e;if(this===t&&e<n&&n<r)for(o=i-1;o>=0;--o)t[o+n]=this[o+e];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+n]=this[o+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+i),n);return i},c.prototype.fill=function(t,n,e,r){if("string"==typeof t){if("string"==typeof n?(r=n,n=0,e=this.length):"string"==typeof e&&(r=e,e=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(n<0||this.length<n||this.length<e)throw new RangeError("Out of range index");if(e<=n)return this;var i;if(n>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),"number"==typeof t)for(i=n;i<e;++i)this[i]=t;else{var u=c.isBuffer(t)?t:N(new c(t,r).toString()),f=u.length;for(i=0;i<e-n;++i)this[i+n]=u[i%f]}return this};var C=/[^+\/0-9A-Za-z-_]/g;function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function N(t,n){var e;n=n||1/0;for(var r=t.length,o=null,i=[],u=0;u<r;++u){if((e=t.charCodeAt(u))>55295&&e<57344){if(!o){if(e>56319){(n-=3)>-1&&i.push(239,191,189);continue}if(u+1===r){(n-=3)>-1&&i.push(239,191,189);continue}o=e;continue}if(e<56320){(n-=3)>-1&&i.push(239,191,189),o=e;continue}e=65536+(o-55296<<10|e-56320)}else o&&(n-=3)>-1&&i.push(239,191,189);if(o=null,e<128){if((n-=1)<0)break;i.push(e)}else if(e<2048){if((n-=2)<0)break;i.push(e>>6|192,63&e|128)}else if(e<65536){if((n-=3)<0)break;i.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((n-=4)<0)break;i.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return i}function Y(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(C,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function K(t,n,e,r){for(var o=0;o<r&&!(o+e>=n.length||o>=t.length);++o)n[o+e]=t[o];return o}}).call(this,e(8))},function(t,n,e){"use strict";var r=Array.isArray;t.exports=r},function(t,n,e){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){var n=r(t);return null!=t&&("object"==n||"function"==n)}},function(t,n,e){"use strict";(function(t,r){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.hasNextTick=n.hasSetImmediate=void 0,n.fallback=l,n.wrap=p;var i,u=e(5),f=(i=u)&&i.__esModule?i:{default:i};var c,a=n.hasSetImmediate="function"==typeof t&&t,s=n.hasNextTick="object"===(void 0===r?"undefined":o(r))&&"function"==typeof r.nextTick;function l(t){setTimeout(t,0)}function p(t){return function(n){var e=(0,f.default)(arguments,1);t(function(){n.apply(null,e)})}}c=a?t:s?r.nextTick:l,n.default=p(c)}).call(this,e(69).setImmediate,e(15))},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,n,e){((0,r.default)(t)?p:h)(t,(0,s.default)(n),e)};var r=l(e(10)),o=l(e(32)),i=l(e(75)),u=l(e(95)),f=l(e(4)),c=l(e(14)),a=l(e(9)),s=l(e(1));function l(t){return t&&t.__esModule?t:{default:t}}function p(t,n,e){e=(0,c.default)(e||f.default);var r=0,i=0,u=t.length;function s(t,n){t?e(t):++i!==u&&n!==o.default||e(null)}for(0===u&&e(null);r<u;r++)n(t[r],r,(0,a.default)(s))}var h=(0,u.default)(i.default,1/0);t.exports=n.default},function(t,n,e){"use strict";var r=e(29).Symbol;t.exports=r},function(t,n,e){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=e(30),i="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,u=o||i||Function("return this")();t.exports=u},function(t,n,e){"use strict";(function(n){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r="object"==(void 0===n?"undefined":e(n))&&n&&n.Object===Object&&n;t.exports=r}).call(this,e(8))},function(t,n,e){"use strict";var r=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={},t.exports=n.default},function(t,n,e){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n,e){"use strict";(function(n){function r(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=e(35),i=e(99),u=n.from("/"),f=u[0];var c=i(function(){function t(e,r){if(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),"string"==typeof e?this._buf=n.from(e):n.isBuffer(e)&&(this._buf=e),null==r&&(r=!0),r&&this.clean(),0===this._buf.length||this._buf[0]!==f)throw new Error("Invalid key: ".concat(this.toString()))}var e,i,a;return e=t,i=[{key:"toString",value:function(t){return this._buf.toString(t||"utf8")}},{key:"toBuffer",value:function(){return this._buf}},{key:"clean",value:function(){for(this._buf&&0!==this._buf.length||(this._buf=n.from("/")),this._buf[0]!==f&&(this._buf=n.concat([u,this._buf]));this._buf.length>1&&this._buf[this._buf.length-1]===f;)this._buf=this._buf.slice(0,-1)}},{key:"less",value:function(t){for(var n=this.list(),e=t.list(),r=0;r<n.length;r++){if(e.length<r+1)return!1;var o=n[r],i=e[r];if(o<i)return!0;if(o>i)return!1}return n.length<e.length}},{key:"reverse",value:function(){return t.withNamespaces(this.list().slice().reverse())}},{key:"namespaces",value:function(){return this.list()}},{key:"baseNamespace",value:function(){var t=this.namespaces();return t[t.length-1]}},{key:"list",value:function(){return this.toString().split("/").slice(1)}},{key:"type",value:function(){return function(t){var n=t.split(":");if(n.length<2)return"";return n.slice(0,-1).join(":")}(this.baseNamespace())}},{key:"name",value:function(){return t=this.baseNamespace(),(n=t.split(":"))[n.length-1];var t,n}},{key:"instance",value:function(t){return new c(this.toString()+":"+t)}},{key:"path",value:function(){var t=this.parent().toString();return t.endsWith("/")||(t+="/"),t+=this.type(),new c(t)}},{key:"parent",value:function(){var t=this.list();return 1===t.length?new c("/"):new c(t.slice(0,-1).join("/"))}},{key:"child",value:function(t){return"/"===this.toString()?t:"/"===t.toString()?this:new c(this.toString()+t.toString(),!1)}},{key:"isAncestorOf",value:function(t){return t.toString()!==this.toString()&&t.toString().startsWith(this.toString())}},{key:"isDecendantOf",value:function(t){return t.toString()!==this.toString()&&this.toString().startsWith(t.toString())}},{key:"isTopLevel",value:function(){return 1===this.list().length}},{key:Symbol.toStringTag,get:function(){return"[Key ".concat(this.toString(),"]")}}],a=[{key:"withNamespaces",value:function(t){return new c(t.join("/"))}},{key:"random",value:function(){return new c(o().replace(/-/g,""))}}],i&&r(e.prototype,i),a&&r(e,a),t}(),{className:"Key",symbolName:"@ipfs/interface-datastore/key"});t.exports=c}).call(this,e(23).Buffer)},function(t,n,e){"use strict";var r=e(97),o=e(98);t.exports=function(t,n,e){var i=n&&e||0;"string"==typeof t&&(n="binary"===t?new Array(16):null,t=null);var u=(t=t||{}).random||(t.rng||r)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,n)for(var f=0;f<16;++f)n[i+f]=u[f];return n||o(u)}},function(t,n,e){"use strict";var r=e(105);t.exports.dbOpenFailedError=function(t){return t=t||new Error("Cannot open database"),r(t,"ERR_DB_OPEN_FAILED")},t.exports.dbDeleteFailedError=function(t){return t=t||new Error("Delete failed"),r(t,"ERR_DB_DELETE_FAILED")},t.exports.dbWriteFailedError=function(t){return t=t||new Error("Write failed"),r(t,"ERR_DB_WRITE_FAILED")},t.exports.notFoundError=function(t){return t=t||new Error("Not Found"),r(t,"ERR_NOT_FOUND")}},function(t,n,e){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,n){return!n||"object"!==r(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&f(t,n)}function f(t,n){return(f=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function a(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,n,e){return n&&a(t.prototype,n),e&&a(t,e),t}var l=e(0).Key,p=e(106),h=n.PREFIX="/repo/flatfs/shard/",y=n.SHARDING_FN="SHARDING";n.README_FN="_README";var d=function(){function t(n){c(this,t),this.param=n}return s(t,[{key:"fun",value:function(t){throw new Error("implement me")}},{key:"toString",value:function(){return"".concat(h,"v1/").concat(this.name,"/").concat(this.param)}}]),t}(),v=function(t){function n(t){var e;return c(this,n),(e=o(this,i(n).call(this,t)))._padding="".padStart(t,"_"),e.name="prefix",e}return u(n,d),s(n,[{key:"fun",value:function(t){return(t+this._padding).slice(0,this.param)}}]),n}(),b=function(t){function n(t){var e;return c(this,n),(e=o(this,i(n).call(this,t)))._padding="".padStart(t,"_"),e.name="suffix",e}return u(n,d),s(n,[{key:"fun",value:function(t){var n=this._padding+t;return n.slice(n.length-this.param)}}]),n}(),g=function(t){function n(t){var e;return c(this,n),(e=o(this,i(n).call(this,t)))._padding="".padStart(t+1,"_"),e.name="next-to-last",e}return u(n,d),s(n,[{key:"fun",value:function(t){var n=this._padding+t,e=n.length-this.param-1;return n.slice(e,e+this.param)}}]),n}();function m(t){if(0===(t=t.trim()).length)throw new Error("empty shard string");if(!t.startsWith(h))throw new Error("invalid or no path prefix: ".concat(t));var n=t.slice(h.length).split("/"),e=n[0];if("v1"!==e)throw new Error("expect 'v1' version, got '".concat(e,"'"));var r=n[1];if(!n[2])throw new Error("missing param");var o=parseInt(n[2],10);switch(r){case"prefix":return new v(o);case"suffix":return new b(o);case"next-to-last":return new g(o);default:throw new Error("unkown sharding function: ".concat(r))}}n.readShardFun=function(t,n,e){var r=new l(t).child(new l(y));("function"==typeof n.getRaw?n.getRaw.bind(n):n.get.bind(n))(r,function(t,n){if(t)return e(t);var r;try{r=m((n||"").toString().trim())}catch(t){return e(t)}e(null,r)})},n.readme=p,n.parseShardFun=m,n.Prefix=v,n.Suffix=b,n.NextToLast=g},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,n,e){(0,r.default)(t,(0,o.default)((0,i.default)(n)),e)};var r=u(e(27)),o=u(e(108)),i=u(e(1));function u(t){return t&&t.__esModule?t:{default:t}}t.exports=n.default},function(t,n,e){t.exports=e(40)},function(t,n,e){"use strict";var r=e(6),o=e(62),i=e(107),u=e(110),f=e(112),c=e(37);n.KeytransformDatastore=r,n.ShardingDatastore=o,n.MountDatastore=i,n.TieredDatastore=u,n.NamespaceDatastore=f,n.shard=c},function(t,n,e){"use strict";t.exports={keys:e(42),once:e(20),values:e(11),count:e(43),infinite:e(44),empty:e(45),error:e(46)}},function(t,n,e){"use strict";var r=e(11);t.exports=function(t){return r(Object.keys(t))}},function(t,n,e){"use strict";t.exports=function(t){var n=0;return t=t||1/0,function(e,r){return e?r&&r(e):n>t?r(!0):void r(null,n++)}}},function(t,n,e){"use strict";t.exports=function(t){return t=t||Math.random,function(n,e){return n?e&&e(n):e(null,t())}}},function(t,n,e){"use strict";t.exports=function(){return function(t,n){n(!0)}}},function(t,n,e){"use strict";t.exports=function(t){return function(n,e){e(t)}}},function(t,n,e){"use strict";t.exports={drain:e(2),onEnd:e(48),log:e(49),find:e(50),reduce:e(12),collect:e(51),concat:e(52)}},function(t,n,e){"use strict";var r=e(2);t.exports=function(t){return r(null,t)}},function(t,n,e){"use strict";var r=e(2);t.exports=function(t){return r(function(t){console.log(t)},t)}},function(t,n,e){"use strict";function r(t){return t}var o=e(3),i=e(2);t.exports=function(t,n){var e=!1;return n?t=o(t)||r:(n=t,t=r),i(function(r){if(t(r))return e=!0,n(null,r),!1},function(t){e||n(!0===t?null:t,null)})}},function(t,n,e){"use strict";var r=e(12);t.exports=function(t){return r(function(t,n){return t.push(n),t},[],t)}},function(t,n,e){"use strict";var r=e(12);t.exports=function(t){return r(function(t,n){return t+n},"",t)}},function(t,n,e){"use strict";t.exports={map:e(54),asyncMap:e(55),filter:e(13),filterNot:e(56),through:e(57),take:e(58),unique:e(22),nonUnique:e(59),flatten:e(60)}},function(t,n,e){"use strict";function r(t){return t}var o=e(3);t.exports=function(t){return t?(t=o(t),function(n){return function(e,r){n(e,function(e,o){try{o=e?null:t(o)}catch(i){return n(i,function(){return r(i)})}r(e,o)})}}):r}},function(t,n,e){"use strict";function r(t){return t}var o=e(3);t.exports=function(t){if(!t)return r;t=o(t);var n,e,i=!1;return function(r){return function o(u,f){if(e)return f(e);u?(e=u,r(u,i?function(t){i?n=f:f(u)}:function(t){f(u)})):r(null,function(r,u){r?f(r):e?f(e):(i=!0,t(u,function(t,r){i=!1,e?(f(e),n&&n(e)):t?o(t,f):f(null,r)}))})}}}},function(t,n,e){"use strict";var r=e(21),o=e(13);t.exports=function(t){return t=r(t),o(function(n){return!t(n)})}},function(t,n,e){"use strict";t.exports=function(t,n){var e=!1;function r(t){!e&&n&&(e=!0,n(!0===t?null:t))}return function(n){return function(e,o){return e&&r(e),n(e,function(n,e){n?r(n):t&&t(e),o(n,e)})}}}},function(t,n,e){"use strict";t.exports=function(t,n){var e=(n=n||{}).last||!1,r=!1;if("number"==typeof t){e=!0;var o=t;t=function(){return--o}}return function(n){function o(t){n(!0,function(n){e=!1,t(n||!0)})}return function(i,u){r&&!i?e?o(u):u(r):(r=i)?n(r,u):n(null,function(n,i){(r=r||n)?u(r):t(i)?u(null,i):(r=!0,e?u(null,i):o(u))})}}}},function(t,n,e){"use strict";var r=e(22);t.exports=function(t){return r(t,!0)}},function(t,n,e){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=e(11),i=e(20);t.exports=function(){return function(t){var n;return function(e,u){function f(){n(null,function(n,e){!0===n?c():n?t(!0,function(t){u(n)}):u(null,e)})}function c(){n=null,t(null,function(t,e){if(t)return u(t);Array.isArray(e)||e&&"object"===r(e)?e=o(e):"function"!=typeof e&&(e=i(e)),n=e,f()})}e?n?n(e,function(n){t(n||e,u)}):t(e,u):n?f():c()}}}},function(t,n,e){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function t(n){var e=arguments.length;if("function"==typeof n&&1===n.length){for(var o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return function(n){if(null==o)throw new TypeError("partial sink should only be called once!");var r=o;switch(o=null,e){case 1:return t(n,r[0]);case 2:return t(n,r[0],r[1]);case 3:return t(n,r[0],r[1],r[2]);case 4:return t(n,r[0],r[1],r[2],r[3]);default:return r.unshift(n),t.apply(null,r)}}}var u=n;u&&"function"==typeof u.source&&(u=u.source);for(i=1;i<e;i++){var f=arguments[i];"function"==typeof f?u=f(u):f&&"object"===r(f)&&(f.sink(u),u=f.source)}return u}},function(t,n,e){"use strict";(function(n){function r(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=e(66),i=e(71),u=e(0).Key,f=e(37),c=e(6),a=new u(f.SHARDING_FN),s=new u(f.README_FN),l=function(){function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.child=new c(n,{convert:this._convertKey.bind(this),invert:this._invertKey.bind(this)}),this.shard=e}var e,l,p;return e=t,p=[{key:"createOrOpen",value:function(n,e,r){t.create(n,e,function(e){if(e&&"datastore exists"!==e.message)return r(e);t.open(n,r)})}},{key:"open",value:function(n,e){o([function(t){return f.readShardFun("/",n,t)},function(e,r){r(null,new t(n,e))}],e)}},{key:"create",value:function(t,e,r){t.has(a,function(o,u){if(o)return r(o);if(!u){var c="function"==typeof t.putRaw?t.putRaw.bind(t):t.put.bind(t);return i([function(t){return c(a,n.from(e.toString()+"\n"),t)},function(t){return c(s,n.from(f.readme),t)}],function(t){return r(t)})}f.readShardFun("/",t,function(t,n){if(t)return r(t);var o=(n||"").toString(),i=e.toString();if(o!==i)return r(new Error("specified fun ".concat(i," does not match repo shard fun ").concat(o)));r(new Error("datastore exists"))})})}}],(l=[{key:"open",value:function(t){this.child.open(t)}},{key:"_convertKey",value:function(t){var n=t.toString();return n===a.toString()||n===s.toString()?t:new u(this.shard.fun(n)).child(t)}},{key:"_invertKey",value:function(t){var n=t.toString();return n===a.toString()||n===s.toString()?t:u.withNamespaces(t.list().slice(1))}},{key:"put",value:function(t,n,e){this.child.put(t,n,e)}},{key:"get",value:function(t,n){this.child.get(t,n)}},{key:"has",value:function(t,n){this.child.has(t,n)}},{key:"delete",value:function(t,n){this.child.delete(t,n)}},{key:"batch",value:function(){return this.child.batch()}},{key:"query",value:function(t){var n=this,e={keysOnly:t.keysOnly,offset:t.offset,limit:t.limit,filters:[function(t,n){return n(null,t.key.toString()!==a.toString())},function(t,n){return n(null,t.key.toString()!==s.toString())}]};if(null!=t.prefix&&e.filters.push(function(e,r){r(null,n._invertKey(e.key).toString().startsWith(t.prefix))}),null!=t.filters){var r=t.filters.map(function(t){return function(e,r){t(Object.assign({},e,{key:n._invertKey(e.key)}),r)}});e.filters=e.filters.concat(r)}return null!=t.orders&&(e.orders=t.orders.map(function(t){return function(e,r){e.forEach(function(t){t.key=n._invertKey(t.key)}),t(e,function(t,e){if(t)return r(t);e.forEach(function(t){t.key=n._convertKey(t.key)}),r(null,e)})}})),this.child.query(e)}},{key:"close",value:function(t){this.child.close(t)}}])&&r(e.prototype,l),p&&r(e,p),t}();t.exports=l}).call(this,e(23).Buffer)},function(t,n,e){"use strict";n.byteLength=function(t){var n=a(t),e=n[0],r=n[1];return 3*(e+r)/4-r},n.toByteArray=function(t){for(var n,e=a(t),r=e[0],u=e[1],f=new i(function(t,n,e){return 3*(n+e)/4-e}(0,r,u)),c=0,s=u>0?r-4:r,l=0;l<s;l+=4)n=o[t.charCodeAt(l)]<<18|o[t.charCodeAt(l+1)]<<12|o[t.charCodeAt(l+2)]<<6|o[t.charCodeAt(l+3)],f[c++]=n>>16&255,f[c++]=n>>8&255,f[c++]=255&n;2===u&&(n=o[t.charCodeAt(l)]<<2|o[t.charCodeAt(l+1)]>>4,f[c++]=255&n);1===u&&(n=o[t.charCodeAt(l)]<<10|o[t.charCodeAt(l+1)]<<4|o[t.charCodeAt(l+2)]>>2,f[c++]=n>>8&255,f[c++]=255&n);return f},n.fromByteArray=function(t){for(var n,e=t.length,o=e%3,i=[],u=0,f=e-o;u<f;u+=16383)i.push(s(t,u,u+16383>f?f:u+16383));1===o?(n=t[e-1],i.push(r[n>>2]+r[n<<4&63]+"==")):2===o&&(n=(t[e-2]<<8)+t[e-1],i.push(r[n>>10]+r[n>>4&63]+r[n<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,c=u.length;f<c;++f)r[f]=u[f],o[u.charCodeAt(f)]=f;function a(t){var n=t.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=t.indexOf("=");return-1===e&&(e=n),[e,e===n?0:4-e%4]}function s(t,n,e){for(var o,i,u=[],f=n;f<e;f+=3)o=(t[f]<<16&16711680)+(t[f+1]<<8&65280)+(255&t[f+2]),u.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return u.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,n,e){"use strict";n.read=function(t,n,e,r,o){var i,u,f=8*o-r-1,c=(1<<f)-1,a=c>>1,s=-7,l=e?o-1:0,p=e?-1:1,h=t[n+l];for(l+=p,i=h&(1<<-s)-1,h>>=-s,s+=f;s>0;i=256*i+t[n+l],l+=p,s-=8);for(u=i&(1<<-s)-1,i>>=-s,s+=r;s>0;u=256*u+t[n+l],l+=p,s-=8);if(0===i)i=1-a;else{if(i===c)return u?NaN:1/0*(h?-1:1);u+=Math.pow(2,r),i-=a}return(h?-1:1)*u*Math.pow(2,i-r)},n.write=function(t,n,e,r,o,i){var u,f,c,a=8*i-o-1,s=(1<<a)-1,l=s>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,y=r?1:-1,d=n<0||0===n&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(f=isNaN(n)?1:0,u=s):(u=Math.floor(Math.log(n)/Math.LN2),n*(c=Math.pow(2,-u))<1&&(u--,c*=2),(n+=u+l>=1?p/c:p*Math.pow(2,1-l))*c>=2&&(u++,c/=2),u+l>=s?(f=0,u=s):u+l>=1?(f=(n*c-1)*Math.pow(2,o),u+=l):(f=n*Math.pow(2,l-1)*Math.pow(2,o),u=0));o>=8;t[e+h]=255&f,h+=y,f/=256,o-=8);for(u=u<<o|f,a+=o;a>0;t[e+h]=255&u,h+=y,u/=256,a-=8);t[e+h-y]|=128*d}},function(t,n,e){"use strict";var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,n){if(n=(0,i.default)(n||o.default),!(0,r.default)(t))return n(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return n();var e=0;function a(n){var r=(0,c.default)(t[e++]);n.push((0,f.default)(s)),r.apply(null,n)}function s(r){if(r||e===t.length)return n.apply(null,arguments);a((0,u.default)(arguments,1))}a([])};var r=a(e(24)),o=a(e(4)),i=a(e(14)),u=a(e(5)),f=a(e(9)),c=a(e(1));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=n.default},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){return(0,o.default)(function(n,e){var o;try{o=t.apply(this,n)}catch(i){return e(i)}(0,r.default)(o)&&"function"==typeof o.then?o.then(function(t){f(e,null,t)},function(t){f(e,t.message?t:new Error(t))}):e(null,o)})};var r=u(e(25)),o=u(e(68)),i=u(e(26));function u(t){return t&&t.__esModule?t:{default:t}}function f(t,n,e){try{t(n,e)}catch(r){(0,i.default)(c,r)}}function c(t){throw t}t.exports=n.default},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){return function(){var n=(0,i.default)(arguments),e=n.pop();t.call(this,n,e)}};var r,o=e(5),i=(r=o)&&r.__esModule?r:{default:r};t.exports=n.default},function(t,n,e){"use strict";(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,n){this._id=t,this._clearFn=n}n.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},n.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},n.enroll=function(t,n){clearTimeout(t._idleTimeoutId),t._idleTimeout=n},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var n=t._idleTimeout;n>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},n))},e(70),n.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||void 0,n.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||void 0}).call(this,e(8))},function(t,n,e){"use strict";(function(t,n){!function(t,e){if(!t.setImmediate){var r,o,i,u,f,c=1,a={},s=!1,l=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?r=function(t){n.nextTick(function(){y(t)})}:!function(){if(t.postMessage&&!t.importScripts){var n=!0,e=t.onmessage;return t.onmessage=function(){n=!1},t.postMessage("","*"),t.onmessage=e,n}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){y(t.data)},r=function(t){i.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(o=l.documentElement,r=function(t){var n=l.createElement("script");n.onreadystatechange=function(){y(t),n.onreadystatechange=null,o.removeChild(n),n=null},o.appendChild(n)}):r=function(t){setTimeout(y,0,t)}:(u="setImmediate$"+Math.random()+"$",f=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(u)&&y(+n.data.slice(u.length))},t.addEventListener?t.addEventListener("message",f,!1):t.attachEvent("onmessage",f),r=function(n){t.postMessage(u+n,"*")}),p.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var n=new Array(arguments.length-1),e=0;e<n.length;e++)n[e]=arguments[e+1];var o={callback:t,args:n};return a[c]=o,r(c),c++},p.clearImmediate=h}function h(t){delete a[t]}function y(t){if(s)setTimeout(y,0,t);else{var n=a[t];if(n){s=!0;try{!function(t){var n=t.callback,r=t.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(e,r)}}(n)}finally{h(t),s=!1}}}}}("undefined"==typeof self?void 0===t?void 0:t:self)}).call(this,e(8),e(15))},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,n){(0,o.default)(r.default,t,n)};var r=i(e(27)),o=i(e(96));function i(t){return t&&t.__esModule?t:{default:t}}t.exports=n.default},function(t,n,e){"use strict";var r=e(16),o=e(25),i="[object AsyncFunction]",u="[object Function]",f="[object GeneratorFunction]",c="[object Proxy]";t.exports=function(t){if(!o(t))return!1;var n=r(t);return n==u||n==f||n==i||n==c}},function(t,n,e){"use strict";var r=e(28),o=Object.prototype,i=o.hasOwnProperty,u=o.toString,f=r?r.toStringTag:void 0;t.exports=function(t){var n=i.call(t,f),e=t[f];try{t[f]=void 0;var r=!0}catch(c){}var o=u.call(t);return r&&(n?t[f]=e:delete t[f]),o}},function(t,n,e){"use strict";var r=Object.prototype.toString;t.exports=function(t){return r.call(t)}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,n,e,i){(0,r.default)(n)(t,(0,o.default)(e),i)};var r=i(e(76)),o=i(e(1));function i(t){return t&&t.__esModule?t:{default:t}}t.exports=n.default},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){return function(n,e,c){if(c=(0,o.default)(c||r.default),t<=0||!n)return c(null);var a=(0,i.default)(n),s=!1,l=0,p=!1;function h(t,n){if(l-=1,t)s=!0,c(t);else{if(n===f.default||s&&l<=0)return s=!0,c(null);p||y()}}function y(){for(p=!0;l<t&&!s;){var n=a();if(null===n)return s=!0,void(l<=0&&c(null));l+=1,e(n.value,n.key,(0,u.default)(h))}p=!1}y()}};var r=c(e(4)),o=c(e(14)),i=c(e(77)),u=c(e(9)),f=c(e(32));function c(t){return t&&t.__esModule?t:{default:t}}t.exports=n.default},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){if((0,r.default)(t))return function(t){var n=-1,e=t.length;return function(){return++n<e?{value:t[n],key:n}:null}}(t);var n=(0,o.default)(t);return n?function(t){var n=-1;return function(){var e=t.next();return e.done?null:(n++,{value:e.value,key:n})}}(n):(e=t,u=(0,i.default)(e),f=-1,c=u.length,function(){var t=u[++f];return f<c?{value:e[t],key:t}:null});var e,u,f,c};var r=u(e(10)),o=u(e(78)),i=u(e(79));function u(t){return t&&t.__esModule?t:{default:t}}t.exports=n.default},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){return r&&t[r]&&t[r]()};var r="function"==typeof Symbol&&Symbol.iterator;t.exports=n.default},function(t,n,e){"use strict";var r=e(80),o=e(91),i=e(10);t.exports=function(t){return i(t)?r(t):o(t)}},function(t,n,e){"use strict";var r=e(81),o=e(82),i=e(24),u=e(84),f=e(86),c=e(87),a=Object.prototype.hasOwnProperty;t.exports=function(t,n){var e=i(t),s=!e&&o(t),l=!e&&!s&&u(t),p=!e&&!s&&!l&&c(t),h=e||s||l||p,y=h?r(t.length,String):[],d=y.length;for(var v in t)!n&&!a.call(t,v)||h&&("length"==v||l&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||f(v,d))||y.push(v);return y}},function(t,n,e){"use strict";t.exports=function(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}},function(t,n,e){"use strict";var r=e(83),o=e(17),i=Object.prototype,u=i.hasOwnProperty,f=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return o(t)&&u.call(t,"callee")&&!f.call(t,"callee")};t.exports=c},function(t,n,e){"use strict";var r=e(16),o=e(17),i="[object Arguments]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,n,e){"use strict";(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=e(29),i=e(85),u="object"==r(n)&&n&&!n.nodeType&&n,f=u&&"object"==r(t)&&t&&!t.nodeType&&t,c=f&&f.exports===u?o.Buffer:void 0,a=(c?c.isBuffer:void 0)||i;t.exports=a}).call(this,e(33)(t))},function(t,n,e){"use strict";t.exports=function(){return!1}},function(t,n,e){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var e=r(t);return!!(n=null==n?o:n)&&("number"==e||"symbol"!=e&&i.test(t))&&t>-1&&t%1==0&&t<n}},function(t,n,e){"use strict";var r=e(88),o=e(89),i=e(90),u=i&&i.isTypedArray,f=u?o(u):r;t.exports=f},function(t,n,e){"use strict";var r=e(16),o=e(31),i=e(17),u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u["[object Arguments]"]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u["[object Map]"]=u["[object Number]"]=u["[object Object]"]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!u[r(t)]}},function(t,n,e){"use strict";t.exports=function(t){return function(n){return t(n)}}},function(t,n,e){"use strict";(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=e(30),i="object"==r(n)&&n&&!n.nodeType&&n,u=i&&"object"==r(t)&&t&&!t.nodeType&&t,f=u&&u.exports===i&&o.process,c=function(){try{var t=u&&u.require&&u.require("util").types;return t||f&&f.binding&&f.binding("util")}catch(n){}}();t.exports=c}).call(this,e(33)(t))},function(t,n,e){"use strict";var r=e(92),o=e(93),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var n=[];for(var e in Object(t))i.call(t,e)&&"constructor"!=e&&n.push(e);return n}},function(t,n,e){"use strict";var r=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||r)}},function(t,n,e){"use strict";var r=e(94)(Object.keys,Object);t.exports=r},function(t,n,e){"use strict";t.exports=function(t,n){return function(e){return t(n(e))}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,n){return function(e,r,o){return t(e,n,r,o)}},t.exports=n.default},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,n,e){e=e||r.default;var f=(0,o.default)(n)?[]:{};t(n,function(t,n,e){(0,u.default)(t)(function(t,r){arguments.length>2&&(r=(0,i.default)(arguments,1)),f[n]=r,e(t)})},function(t){e(t,f)})};var r=f(e(4)),o=f(e(10)),i=f(e(5)),u=f(e(1));function f(t){return t&&t.__esModule?t:{default:t}}t.exports=n.default},function(t,n,e){"use strict";var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var o=new Uint8Array(16);t.exports=function(){return r(o),o}}else{var i=new Array(16);t.exports=function(){for(var t,n=0;n<16;n++)0==(3&n)&&(t=4294967296*Math.random()),i[n]=t>>>((3&n)<<3)&255;return i}}},function(t,n,e){"use strict";for(var r=[],o=0;o<256;++o)r[o]=(o+256).toString(16).substr(1);t.exports=function(t,n){var e=n||0,o=r;return[o[t[e++]],o[t[e++]],o[t[e++]],o[t[e++]],"-",o[t[e++]],o[t[e++]],"-",o[t[e++]],o[t[e++]],"-",o[t[e++]],o[t[e++]],"-",o[t[e++]],o[t[e++]],o[t[e++]],o[t[e++]],o[t[e++]],o[t[e++]]].join("")}},function(t,n,e){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,n,e){return(o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,n,e){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(t,r));return e&&a(o,e.prototype),o}).apply(null,arguments)}function i(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function u(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,n){return(a=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}t.exports=function(t,n){var e=n.className,o=n.symbolName,s=Symbol.for(o),l=i({},e,function(n){function o(){var t,n,e,i;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o);for(var u=arguments.length,a=new Array(u),l=0;l<u;l++)a[l]=arguments[l];return e=this,n=!(i=(t=f(o)).call.apply(t,[this].concat(a)))||"object"!==r(i)&&"function"!=typeof i?c(e):i,Object.defineProperty(c(n),s,{value:!0}),n}var i,l,p;return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&a(t,n)}(o,t),i=o,(l=[{key:Symbol.toStringTag,get:function(){return e}}])&&u(i.prototype,l),p&&u(i,p),o}())[e];return l["is".concat(e)]=function(t){return!(!t||!t[s])},l},t.exports.proto=function(t,n){var e=n.className,r=n.symbolName,u=n.withoutNew,f=Symbol.for(r),c=i({},e,function(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];if(u&&!(this instanceof c))return o(c,e);var i=t.call.apply(t,[this].concat(e))||this;return i&&!i[f]&&Object.defineProperty(i,f,{value:!0}),i})[e];return c.prototype=Object.create(t.prototype),c.prototype.constructor=c,Object.defineProperty(c.prototype,Symbol.toStringTag,{get:function(){return e}}),c["is".concat(e)]=function(t){return!(!t||!t[f])},c}},function(t,n,e){"use strict";function r(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=e(7),i=e(101),u=e(18).asyncFilter,f=e(18).asyncSort,c=e(34),a=e(36),s=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.data={}}var n,e,s;return n=t,(e=[{key:"open",value:function(t){i(t)}},{key:"put",value:function(t,n,e){this.data[t.toString()]=n,i(e)}},{key:"get",value:function(t,n){var e=this;this.has(t,function(r,o){return r?n(r):o?void n(null,e.data[t.toString()]):n(a.notFoundError())})}},{key:"has",value:function(t,n){var e=this;i(function(){n(null,void 0!==e.data[t.toString()])})}},{key:"delete",value:function(t,n){delete this.data[t.toString()],i(function(){n()})}},{key:"batch",value:function(){var t=this,n=[],e=[];return{put:function(t,e){n.push([t,e])},delete:function(t){e.push(t)},commit:function(r){n.forEach(function(n){t.data[n[0].toString()]=n[1]}),n=[],e.forEach(function(n){delete t.data[n.toString()]}),e=[],i(r)}}}},{key:"query",value:function(t){var n=this,e=[o.keys(this.data),o.map(function(t){return{key:new c(t),value:n.data[t]}})],r=[];if(null!=t.prefix){var i=t.prefix;r.push(function(t,n){return n(null,t.key.toString().startsWith(i))})}if(null!=t.filters&&(r=r.concat(t.filters)),e=e.concat(r.map(function(t){return u(t)})),null!=t.orders&&(e=e.concat(t.orders.map(function(t){return f(t)}))),null!=t.offset){var a=0;e.push(o.filter(function(){return a++>=t.offset}))}return null!=t.limit&&e.push(o.take(t.limit)),!0===t.keysOnly&&e.push(o.map(function(t){return{key:t.key}})),o.apply(null,e)}},{key:"close",value:function(t){i(t)}}])&&r(n.prototype,e),s&&r(n,s),t}();t.exports=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,o=e(26),i=(r=o)&&r.__esModule?r:{default:r};n.default=i.default,t.exports=n.default},function(t,n,e){"use strict";t.exports=function(){var t,n,e,r,o=function(o,i){t?t(o,i):o?(r=o,e=i):n=i};return o.resolve=function(o){if(t)throw new Error("already resolved");if(!(t=o))throw new Error("no read cannot resolve!"+t);n&&o(null,n),e&&o(r,e)},o.abort=function(t){o.resolve(function(n,e){e(t||!0)})},o}},function(t,n,e){"use strict";(function(t){function e(t,n){for(var e=0,r=t.length-1;r>=0;r--){var o=t[r];"."===o?t.splice(r,1):".."===o?(t.splice(r,1),e++):e&&(t.splice(r,1),e--)}if(n)for(;e--;e)t.unshift("..");return t}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return r.exec(t).slice(1)};function i(t,n){if(t.filter)return t.filter(n);for(var e=[],r=0;r<t.length;r++)n(t[r],r,t)&&e.push(t[r]);return e}n.resolve=function(){for(var n="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var u=o>=0?arguments[o]:t.cwd();if("string"!=typeof u)throw new TypeError("Arguments to path.resolve must be strings");u&&(n=u+"/"+n,r="/"===u.charAt(0))}return(r?"/":"")+(n=e(i(n.split("/"),function(t){return!!t}),!r).join("/"))||"."},n.normalize=function(t){var r=n.isAbsolute(t),o="/"===u(t,-1);return(t=e(i(t.split("/"),function(t){return!!t}),!r).join("/"))||r||(t="."),t&&o&&(t+="/"),(r?"/":"")+t},n.isAbsolute=function(t){return"/"===t.charAt(0)},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(i(t,function(t,n){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},n.relative=function(t,e){function r(t){for(var n=0;n<t.length&&""===t[n];n++);for(var e=t.length-1;e>=0&&""===t[e];e--);return n>e?[]:t.slice(n,e-n+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var o=r(t.split("/")),i=r(e.split("/")),u=Math.min(o.length,i.length),f=u,c=0;c<u;c++)if(o[c]!==i[c]){f=c;break}var a=[];for(c=f;c<o.length;c++)a.push("..");return(a=a.concat(i.slice(f))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(t){var n=o(t),e=n[0],r=n[1];return e||r?(r&&(r=r.substr(0,r.length-1)),e+r):"."},n.basename=function(t,n){var e=o(t)[2];return n&&e.substr(-1*n.length)===n&&(e=e.substr(0,e.length-n.length)),e},n.extname=function(t){return o(t)[3]};var u="b"==="ab".substr(-1)?function(t,n,e){return t.substr(n,e)}:function(t,n,e){return n<0&&(n=t.length+n),t.substr(n,e)}}).call(this,e(15))},function(t,n,e){"use strict";n.endianness=function(){return"LE"},n.hostname=function(){return"undefined"!=typeof location?location.hostname:""},n.loadavg=function(){return[]},n.uptime=function(){return 0},n.freemem=function(){return Number.MAX_VALUE},n.totalmem=function(){return Number.MAX_VALUE},n.cpus=function(){return[]},n.type=function(){return"Browser"},n.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},n.networkInterfaces=n.getNetworkInterfaces=function(){return{}},n.arch=function(){return"javascript"},n.platform=function(){return"browser"},n.tmpdir=n.tmpDir=function(){return"/tmp"},n.EOL="\n",n.homedir=function(){return"/"}},function(t,n,e){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t,n,e){var o,i=t instanceof Error?t:new Error(t);if("object"===r(n)?e=n:null!=n&&(i.code=n),e)for(o in e)i[o]=e[o];return i}},function(t,n,e){"use strict";t.exports="This is a repository of IPLD objects. Each IPLD object is in a single file,\nnamed <base32 encoding of cid>.data. Where <base32 encoding of cid> is the\n\"base32\" encoding of the CID (as specified in\nhttps://github.com/multiformats/multibase) without the 'B' prefix.\nAll the object files are placed in a tree of directories, based on a\nfunction of the CID. This is a form of sharding similar to\nthe objects directory in git repositories. Previously, we used\nprefixes, we now use the next-to-last two charters.\n    func NextToLast(base32cid string) {\n      nextToLastLen := 2\n      offset := len(base32cid) - nextToLastLen - 1\n      return str[offset : offset+nextToLastLen]\n    }\nFor example, an object with a base58 CIDv1 of\n    zb2rhYSxw4ZjuzgCnWSt19Q94ERaeFhu9uSqRgjSdx9bsgM6f\nhas a base32 CIDv1 of\n    BAFKREIA22FLID5AJ2KU7URG47MDLROZIH6YF2KALU2PWEFPVI37YLKRSCA\nand will be placed at\n    SC/AFKREIA22FLID5AJ2KU7URG47MDLROZIH6YF2KALU2PWEFPVI37YLKRSCA.data\nwith 'SC' being the last-to-next two characters and the 'B' at the\nbeginning of the CIDv1 string is the multibase prefix that is not\nstored in the filename.\n"},function(t,n,e){"use strict";function r(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=e(38),i=e(109),u=e(7),f=e(0).Key,c=e(0).Errors,a=e(0).utils,s=a.asyncFilter,l=a.asyncSort,p=a.replaceStartWith,h=e(6),y=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.mounts=n.slice()}var n,e,a;return n=t,(e=[{key:"open",value:function(t){o(this.mounts,function(t,n){t.datastore.open(n)},t)}},{key:"_lookup",value:function(t){var n=!0,e=!1,r=void 0;try{for(var o,i=this.mounts[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var u=o.value;if(u.prefix.toString()===t.toString()||u.prefix.isAncestorOf(t)){var c=p(t.toString(),u.prefix.toString());return{datastore:u.datastore,mountpoint:u.prefix,rest:new f(c)}}}}catch(a){e=!0,r=a}finally{try{n||null==i.return||i.return()}finally{if(e)throw r}}}},{key:"put",value:function(t,n,e){var r=this._lookup(t);if(null==r)return e(c.dbWriteFailedError(new Error("No datastore mounted for this key")));r.datastore.put(r.rest,n,e)}},{key:"get",value:function(t,n){var e=this._lookup(t);if(null==e)return n(c.notFoundError(new Error("No datastore mounted for this key")));e.datastore.get(e.rest,n)}},{key:"has",value:function(t,n){var e=this._lookup(t);null!=e?e.datastore.has(e.rest,n):n(null,!1)}},{key:"delete",value:function(t,n){var e=this._lookup(t);if(null==e)return n(c.dbDeleteFailedError(new Error("No datastore mounted for this key")));e.datastore.delete(e.rest,n)}},{key:"close",value:function(t){o(this.mounts,function(t,n){t.datastore.close(n)},t)}},{key:"batch",value:function(){var t=this,n={},e=function(e){var r=t._lookup(e);if(null==r)throw new Error("No datastore mounted for this key");var o=r.mountpoint.toString();return null==n[o]&&(n[o]=r.datastore.batch()),{batch:n[o],rest:r.rest}};return{put:function(t,n){var r=e(t);r.batch.put(r.rest,n)},delete:function(t){var n=e(t);n.batch.delete(n.rest)},commit:function(t){o(Object.keys(n),function(t,e){n[t].commit(e)},t)}}}},{key:"query",value:function(t){var n=this.mounts.map(function(n){var e,r=new h(n.datastore,{convert:function(t){throw new Error("should never be called")},invert:function(t){return n.prefix.child(t)}});return null!=t.prefix&&(e=p(t.prefix,n.prefix.toString())),r.query({prefix:e,filters:t.filters,keysOnly:t.keysOnly})}),e=[i(n)];if(null!=t.filters&&(e=e.concat(t.filters.map(function(t){return s(t)}))),null!=t.orders&&(e=e.concat(t.orders.map(function(t){return l(t)}))),null!=t.offset){var r=0;e.push(u.filter(function(){return r++>=t.offset}))}return null!=t.limit&&e.push(u.take(t.limit)),u.apply(null,e)}}])&&r(n.prototype,e),a&&r(n,a),t}();t.exports=y},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){return function(n,e,r){return t(n,r)}},t.exports=n.default},function(t,n,e){"use strict";t.exports=function(t){var n,e,r=!!t,o=(t||[]).map(u),i=0;function u(t){return{ready:!1,reading:!1,ended:!1,read:t,data:null}}function f(){if(e){!function(){var t=o.length;for(;t--;)o[t].ended&&o.splice(t,1)}();var t=o.length,u=e;if(0===t&&(n||r))return e=null,void u(n||!0);for(var f=0;f<t;f++){var c=o[(i+f)%t];if(c.ready&&!c.ended){var a=c.data;return c.ready=!1,c.data=null,i++,e=null,u(null,a)}}}}function c(){for(var t=o.length;t--;)!function(e){if(t>o.length)throw new Error("this should never happen");if(!(e.reading||e.ended||e.ready)){e.reading=!0;var r=!0;e.read(n,function t(o,i){e.data=i,e.ready=!0,e.reading=!1,!0===o||n?e.ended=!0:o&&(n=e.ended=o),n&&!o&&e.read(n,t),r||f()}),r=!1}}(o[t]);f()}function a(t,r){n=n||t,e=r,c()}return a.add=function(t){if(!t)return r=!0,c();o.push(u(t)),c()},a.cap=function(t){a.add(null)},a}},function(t,n,e){"use strict";function r(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=e(38),i=e(111),u=e(0).Errors,f=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.stores=n.slice()}var n,e,f;return n=t,(e=[{key:"open",value:function(t){o(this.stores,function(t,n){t.open(n)},function(n){if(n)return t(u.dbOpenFailedError());t()})}},{key:"put",value:function(t,n,e){o(this.stores,function(e,r){e.put(t,n,r)},function(t){if(t)return e(u.dbWriteFailedError());e()})}},{key:"get",value:function(t,n){var e=this,r=this.stores.length,o=!1,f=0;i(function(){return!o&&f<r},function(n){e.stores[f++].get(t,function(t,e){if(null==t)return o=!0,n(null,e);n()})},function(t,e){if(t||!e)return n(u.notFoundError());n(null,e)})}},{key:"has",value:function(t,n){var e=this,r=this.stores.length,o=!1,u=0;i(function(){return!o&&u<r},function(n){e.stores[u++].has(t,function(t,e){if(null==t)return o=!0,n(null,e);n()})},n)}},{key:"delete",value:function(t,n){o(this.stores,function(n,e){n.delete(t,e)},function(t){if(t)return n(u.dbDeleteFailedError());n()})}},{key:"close",value:function(t){o(this.stores,function(t,n){t.close(n)},t)}},{key:"batch",value:function(){var t=this.stores.map(function(t){return t.batch()});return{put:function(n,e){t.forEach(function(t){return t.put(n,e)})},delete:function(n){t.forEach(function(t){return t.delete(n)})},commit:function(n){o(t,function(t,n){t.commit(n)},n)}}}},{key:"query",value:function(t){return this.stores[this.stores.length-1].query(t)}}])&&r(n.prototype,e),f&&r(n,f),t}();t.exports=f},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,n,e){e=(0,i.default)(e||r.default);var f=(0,u.default)(n);if(!t())return e(null);f(function n(r){if(r)return e(r);if(t())return f(n);var i=(0,o.default)(arguments,1);e.apply(null,[null].concat(i))})};var r=f(e(4)),o=f(e(5)),i=f(e(9)),u=f(e(1));function f(t){return t&&t.__esModule?t:{default:t}}t.exports=n.default},function(t,n,e){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,n){return!n||"object"!==r(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function u(t,n,e){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,e){var r=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=f(t)););return t}(t,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(e):o.value}})(t,n,e||t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,n){return(c=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var a=e(0).Key,s=e(6),l=function(t){function n(t,e){var r;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(r=i(this,f(n).call(this,t,{convert:function(t){return e.child(t)},invert:function(t){if("/"===e.toString())return t;if(!e.isAncestorOf(t))throw new Error("Expected prefix: (".concat(e.toString(),") in key: ").concat(t.toString()));return new a(t.toString().slice(e.toString().length),!1)}}))).prefix=e,r}var e,r,l;return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}(n,s),e=n,(r=[{key:"query",value:function(t){return t.prefix&&"/"!==this.prefix.toString()?u(f(n.prototype),"query",this).call(this,Object.assign({},t,{prefix:this.prefix.child(new a(t.prefix)).toString()})):u(f(n.prototype),"query",this).call(this,t)}}])&&o(e.prototype,r),l&&o(e,l),n}();t.exports=l}])});
//# sourceMappingURL=index.min.js.map